(()=>{var e={};e.id=380,e.ids=[380],e.modules={7849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},9083:(e,s,r)=>{"use strict";r.r(s),r.d(s,{GlobalError:()=>n.a,__next_app__:()=>m,originalPathname:()=>u,pages:()=>o,routeModule:()=>x,tree:()=>c}),r(3922),r(1506),r(5866);var i=r(3191),t=r(8716),a=r(7922),n=r.n(a),l=r(5231),d={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>l[e]);r.d(s,d);let c=["",{children:["dao",{children:["edit",{children:["[daoId]",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,3922)),"C:\\Users\\HP\\OneDrive\\Bureau\\infos-sigomap\\app\\dao\\edit\\[daoId]\\page.tsx"]}]},{}]},{}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,1506)),"C:\\Users\\HP\\OneDrive\\Bureau\\infos-sigomap\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,5866,23)),"next/dist/client/components/not-found-error"]}],o=["C:\\Users\\HP\\OneDrive\\Bureau\\infos-sigomap\\app\\dao\\edit\\[daoId]\\page.tsx"],u="/dao/edit/[daoId]/page",m={require:r,loadChunk:()=>Promise.resolve()},x=new i.AppPageRouteModule({definition:{kind:t.x.APP_PAGE,page:"/dao/edit/[daoId]/page",pathname:"/dao/edit/[daoId]",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},2767:(e,s,r)=>{Promise.resolve().then(r.bind(r,8720))},8720:(e,s,r)=>{"use strict";r.r(s),r.d(s,{default:()=>V});var i=r(326),t=r(7577),a=r(7344),n=r(9837),l=r(5329),d=r(6333),c=r(5047),o=r(1467),u=r(9175),m=r(2102),x=r(2822);function h({daoId:e}){return(0,i.jsxs)(l.Zb,{className:"border-none shadow-none",children:[(0,i.jsxs)(l.Ol,{children:[i.jsx(l.ll,{children:"Param\xe8tres G\xe9n\xe9raux du DAO"}),i.jsx(l.SZ,{children:"Configurez les r\xe8gles et les garanties applicables \xe0 cet appel d'offres."})]}),(0,i.jsxs)(l.aY,{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[(0,i.jsxs)("div",{className:"md:col-span-2 lg:col-span-3 bg-gray-50 p-4 rounded-md border",children:[i.jsx("h3",{className:"font-semibold text-sm mb-2",children:"Rappel de l'Op\xe9ration de R\xe9f\xe9rence"}),(0,i.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-2 text-xs",children:[(0,i.jsxs)("div",{children:[i.jsx("p",{className:"text-gray-500",children:"Objet"}),i.jsx("p",{className:"font-medium",children:"Construction d'un nouveau centre administratif"})]}),(0,i.jsxs)("div",{children:[i.jsx("p",{className:"text-gray-500",children:"Type de march\xe9"}),i.jsx("p",{className:"font-medium",children:"Travaux"})]}),(0,i.jsxs)("div",{children:[i.jsx("p",{className:"text-gray-500",children:"Mode de passation"}),i.jsx("p",{className:"font-medium",children:"Appel d'offres ouvert"})]}),(0,i.jsxs)("div",{children:[i.jsx("p",{className:"text-gray-500",children:"Co\xfbt estimatif"}),i.jsx("p",{className:"font-medium",children:"150 000 000 FCFA"})]})]})]}),(0,i.jsxs)("div",{children:[i.jsx(o._,{htmlFor:"validity",children:"Dur\xe9e de validit\xe9 des offres (jours)"}),i.jsx(u.I,{id:"validity",type:"number",defaultValue:90})]}),(0,i.jsxs)("div",{children:[i.jsx(o._,{htmlFor:"cost",children:"Co\xfbt d'acquisition du dossier (FCFA)"}),i.jsx(u.I,{id:"cost",type:"number",placeholder:"0 si gratuit"})]}),(0,i.jsxs)("div",{children:[i.jsx(o._,{children:"Garantie d'offre exig\xe9e"}),(0,i.jsxs)(x.E,{defaultValue:"oui",className:"flex items-center space-x-4 mt-2",children:[(0,i.jsxs)("div",{className:"flex items-center space-x-2",children:[i.jsx(x.m,{value:"oui",id:"garantie-oui"}),i.jsx(o._,{htmlFor:"garantie-oui",children:"Oui"})]}),(0,i.jsxs)("div",{className:"flex items-center space-x-2",children:[i.jsx(x.m,{value:"non",id:"garantie-non"}),i.jsx(o._,{htmlFor:"garantie-non",children:"Non"})]})]})]}),(0,i.jsxs)("div",{children:[i.jsx(o._,{children:"Garantie de bonne ex\xe9cution exig\xe9e"}),(0,i.jsxs)(x.E,{defaultValue:"oui",className:"flex items-center space-x-4 mt-2",children:[(0,i.jsxs)("div",{className:"flex items-center space-x-2",children:[i.jsx(x.m,{value:"oui",id:"execution-oui"}),i.jsx(o._,{htmlFor:"execution-oui",children:"Oui"})]}),(0,i.jsxs)("div",{className:"flex items-center space-x-2",children:[i.jsx(x.m,{value:"non",id:"execution-non"}),i.jsx(o._,{htmlFor:"execution-non",children:"Non"})]})]})]}),(0,i.jsxs)("div",{children:[i.jsx(o._,{htmlFor:"evalMode",children:"Mode d'\xe9valuation"}),(0,i.jsxs)(m.Ph,{children:[i.jsx(m.i4,{id:"evalMode",children:i.jsx(m.ki,{placeholder:"S\xe9lectionner un mode"})}),(0,i.jsxs)(m.Bw,{children:[i.jsx(m.Ql,{value:"combinaison",children:"Combinaison (Qualit\xe9 / Co\xfbt)"}),i.jsx(m.Ql,{value:"moins-disant",children:"Moins disant"}),i.jsx(m.Ql,{value:"mieux-disant",children:"Mieux disant (Qualit\xe9 / Prix)"})]})]})]}),(0,i.jsxs)("div",{children:[i.jsx(o._,{htmlFor:"lowOffer",children:"Seuil offre anormalement basse (%)"}),i.jsx(u.I,{id:"lowOffer",type:"number",placeholder:"Ex: 15"})]}),(0,i.jsxs)("div",{children:[i.jsx(o._,{htmlFor:"prefSubcontract",children:"Marge de pr\xe9f\xe9rence (Sous-traitance, %)"}),i.jsx(u.I,{id:"prefSubcontract",type:"number",defaultValue:0,min:0,max:15})]}),(0,i.jsxs)("div",{children:[i.jsx(o._,{htmlFor:"prefArtisan",children:"Marge de pr\xe9f\xe9rence (Artisanale, %)"}),i.jsx(u.I,{id:"prefArtisan",type:"number",defaultValue:0,min:0,max:5})]}),(0,i.jsxs)("div",{children:[i.jsx(o._,{htmlFor:"maxLots",children:"Nombre maximum de lots attribuables"}),i.jsx(u.I,{id:"maxLots",type:"number",placeholder:"Laisser vide si illimit\xe9"})]})]})]})}var p=r(6181),j=r(2881);/**
 * @license lucide-react v0.379.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let f=(0,j.Z)("CloudUpload",[["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"M12 12v9",key:"192myk"}],["path",{d:"m16 16-4-4-4 4",key:"119tzi"}]]);function g({daoId:e}){let[s,r]=(0,t.useState)("non");return(0,i.jsxs)(l.Zb,{className:"border-none shadow-none",children:[(0,i.jsxs)(l.Ol,{children:[i.jsx(l.ll,{children:"\xc9diteur du CCAP"}),i.jsx(l.SZ,{children:"Compl\xe9tez les articles du Cahier des Clauses Administratives Particuli\xe8res."})]}),(0,i.jsxs)(l.aY,{className:"space-y-6",children:[(0,i.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,i.jsxs)("div",{children:[i.jsx(o._,{children:"Autorit\xe9 Contractante"}),i.jsx(u.I,{disabled:!0,value:"Minist\xe8re de la Construction et de l'Urbanisme"})]}),(0,i.jsxs)("div",{children:[i.jsx(o._,{children:"Prix fermes ou r\xe9visables ?"}),(0,i.jsxs)(x.E,{defaultValue:s,onValueChange:r,className:"flex items-center space-x-4 mt-2",children:[(0,i.jsxs)("div",{className:"flex items-center space-x-2",children:[i.jsx(x.m,{value:"non",id:"prix-fermes"}),i.jsx(o._,{htmlFor:"prix-fermes",children:"Fermes"})]}),(0,i.jsxs)("div",{className:"flex items-center space-x-2",children:[i.jsx(x.m,{value:"oui",id:"prix-revisables"}),i.jsx(o._,{htmlFor:"prix-revisables",children:"R\xe9visables"})]})]})]})]}),"oui"===s&&(0,i.jsxs)("div",{children:[i.jsx(o._,{htmlFor:"revision-modalities",children:"Modalit\xe9s de r\xe9vision des prix"}),i.jsx(p.g,{id:"revision-modalities",placeholder:"D\xe9crivez les modalit\xe9s de r\xe9vision des prix..."})]}),(0,i.jsxs)("div",{children:[i.jsx(o._,{htmlFor:"constitutive-parts",children:"Pi\xe8ces constitutives du march\xe9"}),i.jsx(p.g,{id:"constitutive-parts",placeholder:"Listez les pi\xe8ces constitutives du march\xe9, par ordre de priorit\xe9...",rows:5,defaultValue:`- Le pr\xe9sent CCAP
- Le Cahier des Clauses Techniques Particuli\xe8res (CCTP)
- Le Bordereau des Prix Unitaires (BPU)
- Le D\xe9tail Quantitatif Estimatif (DQE)`})]})]})]})}var v=r(4585),y=r(1291),b=r(5919),N=r(4389);/**
 * @license lucide-react v0.379.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let C=(0,j.Z)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);var k=r(352),w=r(2997);let A=[{id:"LOT01",number:"Lot 1",label:"Gros Œuvre",estimatedAmount:75e6,guarantee:1e6,deadline:120},{id:"LOT02",number:"Lot 2",label:"\xc9lectricit\xe9 & Plomberie",estimatedAmount:4e7,guarantee:5e5,deadline:90},{id:"LOT03",number:"Lot 3",label:"Am\xe9nagements ext\xe9rieurs",estimatedAmount:35e6,guarantee:5e5,deadline:60}];function P({daoId:e}){let[s,r]=(0,t.useState)(!1),[a,d]=(0,t.useState)(""),[c,m]=(0,t.useState)(""),[x,h]=(0,t.useState)(""),p=a?.01*parseFloat(a):0,j=a?.015*parseFloat(a):0;return(0,i.jsxs)(l.Zb,{className:"border-none shadow-none",children:[(0,i.jsxs)(l.Ol,{className:"flex flex-row items-center justify-between",children:[(0,i.jsxs)("div",{children:[i.jsx(l.ll,{children:"Gestion de l'Allotissement"}),i.jsx(l.SZ,{children:"D\xe9finissez les diff\xe9rents lots qui composent ce march\xe9."})]}),i.jsx(w.Vq,{open:s,onOpenChange:r,children:(0,i.jsxs)(w.cZ,{className:"sm:max-w-[625px]",children:[(0,i.jsxs)(w.fK,{children:[i.jsx(w.$N,{children:"Ajouter un nouveau lot"}),i.jsx(w.Be,{children:'Renseignez les informations du lot. Cliquez sur "Enregistrer" pour l\'ajouter.'})]}),(0,i.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-x-4 gap-y-6 py-4",children:[(0,i.jsxs)("div",{className:"space-y-2",children:[i.jsx(o._,{htmlFor:"lot-number",children:"Num\xe9ro de lot"}),i.jsx(u.I,{id:"lot-number",placeholder:"Ex: Lot 1"})]}),(0,i.jsxs)("div",{className:"space-y-2",children:[i.jsx(o._,{htmlFor:"lot-execution-delay",children:"D\xe9lai d'ex\xe9cution (jours)"}),i.jsx(u.I,{id:"lot-execution-delay",type:"number",placeholder:"Ex: 90"})]}),(0,i.jsxs)("div",{className:"md:col-span-2 space-y-2",children:[i.jsx(o._,{htmlFor:"lot-label",children:"Libell\xe9 du lot"}),i.jsx(u.I,{id:"lot-label",placeholder:"Ex: Travaux de gros oeuvre"})]}),(0,i.jsxs)("div",{className:"space-y-2",children:[i.jsx(o._,{htmlFor:"lot-estimated-amount",children:"Montant estimatif (FCFA)"}),i.jsx(u.I,{id:"lot-estimated-amount",type:"number",placeholder:"Ex: 50000000",value:a||"",onChange:e=>d(e.target.value)})]}),(0,i.jsxs)("div",{className:"space-y-2",children:[i.jsx(o._,{htmlFor:"lot-guarantee",children:"Garantie d'offre (FCFA)"}),i.jsx(u.I,{id:"lot-guarantee",type:"number",placeholder:"Ex: 750000",value:c||"",onChange:e=>m(e.target.value)}),parseFloat(a||"0")>0&&(0,i.jsxs)("p",{className:"text-xs text-muted-foreground pt-1",children:["Recommand\xe9: ",p.toLocaleString()," - ",j.toLocaleString()," FCFA"]})]}),x&&(0,i.jsxs)("div",{className:"md:col-span-2 flex items-center gap-2 text-sm text-red-600 bg-red-50 p-3 rounded-md",children:[i.jsx(y.Z,{className:"h-4 w-4"}),i.jsx("span",{children:x})]})]}),(0,i.jsxs)(w.cN,{children:[i.jsx(n.z,{variant:"outline",onClick:()=>r(!1),children:"Annuler"}),i.jsx(n.z,{onClick:()=>{let e=parseFloat(a),s=parseFloat(c);if(e>0&&s>0){let i=.01*e,t=.015*e;s<i||s>t?h(`La garantie doit \xeatre entre ${i.toLocaleString()} et ${t.toLocaleString()} FCFA.`):(h(""),r(!1))}else h("Le montant estimatif et la garantie d'offre doivent \xeatre sup\xe9rieurs \xe0 0.")},disabled:!!x,children:"Enregistrer le lot"})]})]})})]}),i.jsx(l.aY,{children:(0,i.jsxs)(v.iA,{children:[i.jsx(v.xD,{children:(0,i.jsxs)(v.SC,{children:[i.jsx(v.ss,{children:"Num\xe9ro"}),i.jsx(v.ss,{children:"Libell\xe9"}),i.jsx(v.ss,{className:"text-right",children:"Montant Estimatif (FCFA)"}),i.jsx(v.ss,{className:"text-right",children:"Garantie d'offre (FCFA)"}),i.jsx(v.ss,{className:"text-right",children:"D\xe9lai d'ex\xe9cution (jours)"}),i.jsx(v.ss,{children:i.jsx("span",{className:"sr-only",children:"Actions"})})]})}),i.jsx(v.RM,{children:A.map(e=>(0,i.jsxs)(v.SC,{children:[i.jsx(v.pj,{className:"font-medium",children:e.number}),i.jsx(v.pj,{children:e.label}),i.jsx(v.pj,{className:"text-right",children:e.estimatedAmount.toLocaleString()}),i.jsx(v.pj,{className:"text-right",children:e.guarantee.toLocaleString()}),i.jsx(v.pj,{className:"text-right",children:e.deadline}),i.jsx(v.pj,{className:"text-right",children:(0,i.jsxs)(k.h_,{children:[i.jsx(k.$F,{asChild:!0,children:(0,i.jsxs)(n.z,{variant:"ghost",className:"h-8 w-8 p-0",children:[i.jsx("span",{className:"sr-only",children:"Ouvrir le menu"}),i.jsx(b.Z,{className:"h-4 w-4"})]})}),(0,i.jsxs)(k.AW,{align:"end",children:[(0,i.jsxs)(k.Xi,{children:[i.jsx(N.Z,{className:"mr-2 h-4 w-4"}),i.jsx("span",{children:"Modifier"})]}),(0,i.jsxs)(k.Xi,{className:"text-red-600",children:[i.jsx(C,{className:"mr-2 h-4 w-4"}),i.jsx("span",{children:"Supprimer"})]})]})]})})]},e.id))})]})})]})}var _=r(9654),F=r(6792),O=r(4230);/**
 * @license lucide-react v0.379.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let S=(0,j.Z)("GripVertical",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]]),R=[{id:"crit-1",name:"Capacit\xe9 financi\xe8re",category:"Financier"},{id:"crit-2",name:"Exp\xe9rience similaire",category:"Technique"},{id:"crit-3",name:"Certification ISO 9001",category:"Qualit\xe9"},{id:"crit-4",name:"Personnel cl\xe9 qualifi\xe9",category:"Technique"},{id:"crit-5",name:"D\xe9lai de livraison",category:"Logistique"},{id:"crit-6",name:"Garantie du mat\xe9riel",category:"Technique"}],E=[{id:"LOT01",name:"Lot 1: Gros Œuvre"},{id:"LOT02",name:"Lot 2: \xc9lectricit\xe9 & Plomberie"}];function D({daoId:e}){let[s,r]=(0,t.useState)([{...R[1],lots:[E[0].id]},{...R[3],lots:[E[0].id,E[1].id]}]),a=e=>{s.find(s=>s.id===e.id)||r([...s,{...e,lots:[]}])},d=(e,i,t)=>{r(s.map(s=>{if(s.id===e){let e=t?[...s.lots,i]:s.lots.filter(e=>e!==i);return{...s,lots:e}}return s}))};return(0,i.jsxs)(l.Zb,{className:"border-none shadow-none",children:[(0,i.jsxs)(l.Ol,{children:[i.jsx(l.ll,{children:"D\xe9finition des Crit\xe8res d'\xc9valuation"}),i.jsx(l.SZ,{children:"S\xe9lectionnez les crit\xe8res requis et affectez-les \xe0 un ou plusieurs lots."})]}),(0,i.jsxs)(l.aY,{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[(0,i.jsxs)("div",{className:"space-y-4",children:[i.jsx("h3",{className:"font-semibold",children:"Biblioth\xe8que de crit\xe8res"}),i.jsx("div",{className:"border rounded-lg p-4 space-y-3 max-h-96 overflow-y-auto",children:R.map(e=>(0,i.jsxs)("div",{className:"flex items-center justify-between p-2 rounded-md hover:bg-gray-50",children:[(0,i.jsxs)("div",{children:[i.jsx("p",{className:"font-medium",children:e.name}),i.jsx(F.C,{variant:"secondary",children:e.category})]}),(0,i.jsxs)(n.z,{size:"sm",variant:"outline",onClick:()=>a(e),children:["Ajouter ",i.jsx(O.Z,{className:"h-4 w-4 ml-2"})]})]},e.id))})]}),(0,i.jsxs)("div",{className:"space-y-4",children:[i.jsx("h3",{className:"font-semibold",children:"Crit\xe8res s\xe9lectionn\xe9s pour ce DAO"}),i.jsx("div",{className:"border rounded-lg p-4 space-y-4 max-h-96 overflow-y-auto",children:0===s.length?i.jsx("p",{className:"text-sm text-gray-500 text-center py-8",children:"Aucun crit\xe8re s\xe9lectionn\xe9. Ajoutez des crit\xe8res depuis la biblioth\xe8que de gauche."}):s.map(e=>(0,i.jsxs)("div",{className:"p-3 border rounded-md bg-white",children:[(0,i.jsxs)("div",{className:"flex items-start justify-between",children:[(0,i.jsxs)("div",{children:[i.jsx("p",{className:"font-medium",children:e.name}),i.jsx(F.C,{variant:"outline",children:e.category})]}),i.jsx(n.z,{size:"icon",variant:"ghost",className:"cursor-grab",children:i.jsx(S,{className:"h-5 w-5 text-gray-400"})})]}),(0,i.jsxs)("div",{className:"mt-4",children:[i.jsx(o._,{className:"text-xs font-semibold",children:"Affecter aux lots :"}),i.jsx("div",{className:"flex items-center space-x-4 mt-2",children:E.map(s=>(0,i.jsxs)("div",{className:"flex items-center space-x-2",children:[i.jsx(_.X,{id:`${e.id}-${s.id}`,checked:e.lots.includes(s.id),onCheckedChange:r=>d(e.id,s.id,r)}),i.jsx(o._,{htmlFor:`${e.id}-${s.id}`,className:"text-sm font-normal",children:s.name})]},s.id))})]})]},e.id))})]})]})]})}let L=[{id:"f1",name:"Pr\xe9sident",mandatory:!0},{id:"f2",name:"Secr\xe9taire",mandatory:!0},{id:"f3",name:"Repr\xe9sentant de l'Autorit\xe9 Contractante",mandatory:!0,defaultStructure:"Minist\xe8re de la Construction"},{id:"f4",name:"Contr\xf4leur Financier",mandatory:!0,defaultStructure:"Contr\xf4le Financier du Minist\xe8re"},{id:"f5",name:"Expert Technique 1",mandatory:!1},{id:"f6",name:"Ma\xeetre d'oeuvre",mandatory:!1},{id:"f7",name:"Repr\xe9sentant des usagers",mandatory:!1}];function M({daoId:e}){let[s,r]=(0,t.useState)(L.filter(e=>e.mandatory).map(e=>({...e,structure:e.defaultStructure||""}))),a=(e,i)=>{if(i)r([...s,{...e,structure:e.defaultStructure||""}]);else{if(e.mandatory)return;r(s.filter(s=>s.id!==e.id))}},n=(e,i)=>{r(s.map(s=>s.id===e?{...s,structure:i}:s))};return(0,i.jsxs)(l.Zb,{className:"border-none shadow-none",children:[(0,i.jsxs)(l.Ol,{children:[i.jsx(l.ll,{children:"Constitution de la Commission (COJO)"}),i.jsx(l.SZ,{children:"S\xe9lectionnez les fonctions et renseignez les structures correspondantes pour former la commission d'ouverture et de jugement."})]}),(0,i.jsxs)(l.aY,{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[(0,i.jsxs)("div",{className:"space-y-4",children:[i.jsx("h3",{className:"font-semibold",children:"Fonctions disponibles pour la commission"}),i.jsx("div",{className:"border rounded-lg p-4 space-y-3",children:L.map(e=>(0,i.jsxs)("div",{className:"flex items-center space-x-3",children:[i.jsx(_.X,{id:e.id,checked:s.some(s=>s.id===e.id),onCheckedChange:s=>a(e,s),disabled:e.mandatory}),(0,i.jsxs)(o._,{htmlFor:e.id,className:`${e.mandatory?"font-bold":""}`,children:[e.name," ",e.mandatory&&i.jsx("span",{className:"text-red-500",children:"*"})]})]},e.id))})]}),(0,i.jsxs)("div",{className:"space-y-4",children:[i.jsx("h3",{className:"font-semibold",children:"Composition de la commission"}),i.jsx("div",{className:"border rounded-lg p-4 space-y-4",children:0===s.length?i.jsx("p",{className:"text-sm text-gray-500 text-center py-8",children:"Aucune fonction s\xe9lectionn\xe9e."}):s.sort((e,s)=>e.name.localeCompare(s.name)).map(e=>(0,i.jsxs)("div",{children:[i.jsx(o._,{htmlFor:`struct-${e.id}`,children:e.name}),i.jsx(u.I,{id:`struct-${e.id}`,placeholder:"Nom de la structure ou de la personne...",value:e.structure,onChange:s=>n(e.id,s.target.value),disabled:!!e.defaultStructure,className:"mt-1"})]},e.id))})]})]})]})}var q=r(6283),z=r(1540);let I=[{name:"Avis d'Appel d'Offres (AAO)",origin:"Syst\xe8me",status:"G\xe9n\xe9r\xe9",file:"AAO_DAO_2025_001.pdf"},{name:"R\xe8glement Particulier de l'Appel d'Offres (RPAO)",origin:"Syst\xe8me",status:"G\xe9n\xe9r\xe9",file:"RPAO_DAO_2025_001.pdf"},{name:"Cahier des Clauses Administratives Particuli\xe8res (CCAP)",origin:"Syst\xe8me",status:"G\xe9n\xe9r\xe9",file:"CCAP_DAO_2025_001.pdf"},{name:"Cahier des Clauses Techniques Particuli\xe8res (CCTP)",origin:"AC",status:"Requis",file:null},{name:"Bordereau des Prix Unitaires (BPU)",origin:"AC",status:"Requis",file:null},{name:"D\xe9tail Quantitatif Estimatif (DQE)",origin:"AC",status:"Fourni",file:"DQE_DAO_2025_001.xlsx"},{name:"Plans et sch\xe9mas techniques",origin:"AC",status:"Optionnel",file:null}],Z={Généré:"actif",Requis:"destructive",Fourni:"en-attente",Optionnel:"secondary"};function T({daoId:e}){return(0,i.jsxs)(l.Zb,{className:"border-none shadow-none",children:[(0,i.jsxs)(l.Ol,{children:[i.jsx(l.ll,{children:"Pi\xe8ces du Dossier d'Appel d'Offres"}),i.jsx(l.SZ,{children:"Visualisez les documents g\xe9n\xe9r\xe9s par le syst\xe8me et joignez les pi\xe8ces requises pour compl\xe9ter le dossier."})]}),i.jsx(l.aY,{children:(0,i.jsxs)(v.iA,{children:[i.jsx(v.xD,{children:(0,i.jsxs)(v.SC,{children:[i.jsx(v.ss,{children:"Nom du document"}),i.jsx(v.ss,{children:"Origine"}),i.jsx(v.ss,{children:"Statut"}),i.jsx(v.ss,{className:"text-right",children:"Actions"})]})}),i.jsx(v.RM,{children:I.map(e=>(0,i.jsxs)(v.SC,{children:[(0,i.jsxs)(v.pj,{className:"font-medium flex items-center",children:[i.jsx(q.Z,{className:"h-4 w-4 mr-2 text-gray-500"}),e.name]}),i.jsx(v.pj,{children:e.origin}),i.jsx(v.pj,{children:i.jsx(F.C,{variant:Z[e.status],children:e.status})}),(0,i.jsxs)(v.pj,{className:"text-right space-x-2",children:["G\xe9n\xe9r\xe9"===e.status&&(0,i.jsxs)(n.z,{variant:"outline",size:"sm",children:[i.jsx(z.Z,{className:"h-4 w-4 mr-2"}),"T\xe9l\xe9charger"]}),"AC"===e.origin&&!e.file&&(0,i.jsxs)(n.z,{variant:"default",size:"sm",children:[i.jsx(f,{className:"h-4 w-4 mr-2"}),"Joindre"]}),"AC"===e.origin&&e.file&&(0,i.jsxs)(i.Fragment,{children:[i.jsx("span",{className:"text-sm italic text-gray-500 mr-2",children:e.file}),i.jsx(n.z,{variant:"destructive",size:"icon",children:i.jsx(C,{className:"h-4 w-4"})})]})]})]},e.name))})]})})]})}let G=["Param\xe8tres G\xe9n\xe9raux","CCAP","Allotissement","Crit\xe8res d'\xc9valuation","Commission (COJO)","Pi\xe8ces du Dossier"];function V(){let e=(0,c.useRouter)(),{daoId:s}=(0,c.useParams)(),[r,o]=(0,t.useState)(G[0]),u=`DAO/2025/${s}`;return i.jsx(a.MainLayout,{children:(0,i.jsxs)("div",{className:"space-y-6",children:[(0,i.jsxs)("div",{className:"flex items-center gap-4",children:[i.jsx(n.z,{variant:"outline",size:"icon",onClick:()=>e.push(`/dao/${s}`),children:i.jsx(d.Z,{className:"h-4 w-4"})}),(0,i.jsxs)("div",{children:[(0,i.jsxs)("h1",{className:"text-2xl font-bold",children:["\xc9dition du DAO : ",u]}),i.jsx("p",{className:"text-muted-foreground",children:"Modifiez les diff\xe9rentes sections du brouillon avant de le soumettre pour validation."})]})]}),(0,i.jsxs)(l.Zb,{children:[i.jsx(l.Ol,{children:i.jsx("div",{className:"border-b border-gray-200",children:i.jsx("nav",{className:"-mb-px flex space-x-6","aria-label":"Tabs",children:G.map(e=>i.jsx("button",{onClick:()=>o(e),className:`${r===e?"border-sigomap-bleu text-sigomap-bleu":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"} whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm`,children:e},e))})})}),i.jsx(l.aY,{className:"mt-6",children:"Param\xe8tres G\xe9n\xe9raux"===r?i.jsx(h,{daoId:s}):"CCAP"===r?i.jsx(g,{daoId:s}):"Allotissement"===r?i.jsx(P,{daoId:s}):"Crit\xe8res d'\xc9valuation"===r?i.jsx(D,{daoId:s}):"Commission (COJO)"===r?i.jsx(M,{daoId:s}):"Pi\xe8ces du Dossier"===r?i.jsx(T,{daoId:s}):null})]}),(0,i.jsxs)("div",{className:"flex justify-end gap-2",children:[i.jsx(n.z,{variant:"outline",children:"Sauvegarder en Brouillon"}),i.jsx(n.z,{children:"Soumettre pour validation"})]})]})})}},6333:(e,s,r)=>{"use strict";r.d(s,{Z:()=>i});/**
 * @license lucide-react v0.379.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let i=(0,r(2881).Z)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},1291:(e,s,r)=>{"use strict";r.d(s,{Z:()=>i});/**
 * @license lucide-react v0.379.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let i=(0,r(2881).Z)("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]])},1540:(e,s,r)=>{"use strict";r.d(s,{Z:()=>i});/**
 * @license lucide-react v0.379.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let i=(0,r(2881).Z)("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]])},5919:(e,s,r)=>{"use strict";r.d(s,{Z:()=>i});/**
 * @license lucide-react v0.379.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let i=(0,r(2881).Z)("Ellipsis",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]])},4389:(e,s,r)=>{"use strict";r.d(s,{Z:()=>i});/**
 * @license lucide-react v0.379.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let i=(0,r(2881).Z)("Pencil",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]])},1467:(e,s,r)=>{"use strict";r.d(s,{_:()=>o});var i=r(326),t=r(7577),a=r(5226),n=t.forwardRef((e,s)=>(0,i.jsx)(a.WV.label,{...e,ref:s,onMouseDown:s=>{s.target.closest("button, input, select, textarea")||(e.onMouseDown?.(s),!s.defaultPrevented&&s.detail>1&&s.preventDefault())}}));n.displayName="Label";var l=r(9360),d=r(8493);let c=(0,l.j)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),o=t.forwardRef(({className:e,...s},r)=>i.jsx(n,{ref:r,className:(0,d.cn)(c(),e),...s}));o.displayName=n.displayName},6181:(e,s,r)=>{"use strict";r.d(s,{g:()=>n});var i=r(326),t=r(7577),a=r(8493);let n=t.forwardRef(({className:e,...s},r)=>i.jsx("textarea",{className:(0,a.cn)("flex min-h-[80px] w-full rounded-md border border-sigomap-gris-light bg-sigomap-bg-primary px-3 py-2 text-sm ring-offset-background placeholder:text-sigomap-gris focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-sigomap-vert focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:r,...s}));n.displayName="Textarea"},9654:(e,s,r)=>{"use strict";r.d(s,{X:()=>O});var i=r(326),t=r(7577),a=r(8051),n=r(3095),l=r(2561),d=r(2067),c=r(3405),o=r(2566),u=r(9815),m=r(5226),x="Checkbox",[h,p]=(0,n.b)(x),[j,f]=h(x);function g(e){let{__scopeCheckbox:s,checked:r,children:a,defaultChecked:n,disabled:l,form:c,name:o,onCheckedChange:u,required:m,value:h="on",internal_do_not_use_render:p}=e,[f,g]=(0,d.T)({prop:r,defaultProp:n??!1,onChange:u,caller:x}),[v,y]=t.useState(null),[b,N]=t.useState(null),C=t.useRef(!1),k=!v||!!c||!!v.closest("form"),w={checked:f,disabled:l,setChecked:g,control:v,setControl:y,name:o,form:c,value:h,hasConsumerStoppedPropagationRef:C,required:m,defaultChecked:!A(n)&&n,isFormControl:k,bubbleInput:b,setBubbleInput:N};return(0,i.jsx)(j,{scope:s,...w,children:"function"==typeof p?p(w):a})}var v="CheckboxTrigger",y=t.forwardRef(({__scopeCheckbox:e,onKeyDown:s,onClick:r,...n},d)=>{let{control:c,value:o,disabled:u,checked:x,required:h,setControl:p,setChecked:j,hasConsumerStoppedPropagationRef:g,isFormControl:y,bubbleInput:b}=f(v,e),N=(0,a.e)(d,p),C=t.useRef(x);return t.useEffect(()=>{let e=c?.form;if(e){let s=()=>j(C.current);return e.addEventListener("reset",s),()=>e.removeEventListener("reset",s)}},[c,j]),(0,i.jsx)(m.WV.button,{type:"button",role:"checkbox","aria-checked":A(x)?"mixed":x,"aria-required":h,"data-state":P(x),"data-disabled":u?"":void 0,disabled:u,value:o,...n,ref:N,onKeyDown:(0,l.Mj)(s,e=>{"Enter"===e.key&&e.preventDefault()}),onClick:(0,l.Mj)(r,e=>{j(e=>!!A(e)||!e),b&&y&&(g.current=e.isPropagationStopped(),g.current||e.stopPropagation())})})});y.displayName=v;var b=t.forwardRef((e,s)=>{let{__scopeCheckbox:r,name:t,checked:a,defaultChecked:n,required:l,disabled:d,value:c,onCheckedChange:o,form:u,...m}=e;return(0,i.jsx)(g,{__scopeCheckbox:r,checked:a,defaultChecked:n,disabled:d,required:l,onCheckedChange:o,name:t,form:u,value:c,internal_do_not_use_render:({isFormControl:e})=>(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(y,{...m,ref:s,__scopeCheckbox:r}),e&&(0,i.jsx)(w,{__scopeCheckbox:r})]})})});b.displayName=x;var N="CheckboxIndicator",C=t.forwardRef((e,s)=>{let{__scopeCheckbox:r,forceMount:t,...a}=e,n=f(N,r);return(0,i.jsx)(u.z,{present:t||A(n.checked)||!0===n.checked,children:(0,i.jsx)(m.WV.span,{"data-state":P(n.checked),"data-disabled":n.disabled?"":void 0,...a,ref:s,style:{pointerEvents:"none",...e.style}})})});C.displayName=N;var k="CheckboxBubbleInput",w=t.forwardRef(({__scopeCheckbox:e,...s},r)=>{let{control:n,hasConsumerStoppedPropagationRef:l,checked:d,defaultChecked:u,required:x,disabled:h,name:p,value:j,form:g,bubbleInput:v,setBubbleInput:y}=f(k,e),b=(0,a.e)(r,y),N=(0,c.D)(d),C=(0,o.t)(n);t.useEffect(()=>{if(!v)return;let e=Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"checked").set,s=!l.current;if(N!==d&&e){let r=new Event("click",{bubbles:s});v.indeterminate=A(d),e.call(v,!A(d)&&d),v.dispatchEvent(r)}},[v,N,d,l]);let w=t.useRef(!A(d)&&d);return(0,i.jsx)(m.WV.input,{type:"checkbox","aria-hidden":!0,defaultChecked:u??w.current,required:x,disabled:h,name:p,value:j,form:g,...s,tabIndex:-1,ref:b,style:{...s.style,...C,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});function A(e){return"indeterminate"===e}function P(e){return A(e)?"indeterminate":e?"checked":"unchecked"}w.displayName=k;var _=r(2933),F=r(8493);let O=t.forwardRef(({className:e,...s},r)=>i.jsx(b,{ref:r,className:(0,F.cn)("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",e),...s,children:i.jsx(C,{className:(0,F.cn)("flex items-center justify-center text-current"),children:i.jsx(_.Z,{className:"h-4 w-4"})})}));O.displayName=b.displayName},2822:(e,s,r)=>{"use strict";r.d(s,{E:()=>I,m:()=>Z});var i=r(326),t=r(7577),a=r(2561),n=r(8051),l=r(3095),d=r(5226),c=r(5594),o=r(2067),u=r(7124),m=r(2566),x=r(3405),h=r(9815),p="Radio",[j,f]=(0,l.b)(p),[g,v]=j(p),y=t.forwardRef((e,s)=>{let{__scopeRadio:r,name:l,checked:c=!1,required:o,disabled:u,value:m="on",onCheck:x,form:h,...p}=e,[j,f]=t.useState(null),v=(0,n.e)(s,e=>f(e)),y=t.useRef(!1),b=!j||h||!!j.closest("form");return(0,i.jsxs)(g,{scope:r,checked:c,disabled:u,children:[(0,i.jsx)(d.WV.button,{type:"button",role:"radio","aria-checked":c,"data-state":k(c),"data-disabled":u?"":void 0,disabled:u,value:m,...p,ref:v,onClick:(0,a.Mj)(e.onClick,e=>{c||x?.(),b&&(y.current=e.isPropagationStopped(),y.current||e.stopPropagation())})}),b&&(0,i.jsx)(C,{control:j,bubbles:!y.current,name:l,value:m,checked:c,required:o,disabled:u,form:h,style:{transform:"translateX(-100%)"}})]})});y.displayName=p;var b="RadioIndicator",N=t.forwardRef((e,s)=>{let{__scopeRadio:r,forceMount:t,...a}=e,n=v(b,r);return(0,i.jsx)(h.z,{present:t||n.checked,children:(0,i.jsx)(d.WV.span,{"data-state":k(n.checked),"data-disabled":n.disabled?"":void 0,...a,ref:s})})});N.displayName=b;var C=t.forwardRef(({__scopeRadio:e,control:s,checked:r,bubbles:a=!0,...l},c)=>{let o=t.useRef(null),u=(0,n.e)(o,c),h=(0,x.D)(r),p=(0,m.t)(s);return t.useEffect(()=>{let e=o.current;if(!e)return;let s=Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"checked").set;if(h!==r&&s){let i=new Event("click",{bubbles:a});s.call(e,r),e.dispatchEvent(i)}},[h,r,a]),(0,i.jsx)(d.WV.input,{type:"radio","aria-hidden":!0,defaultChecked:r,...l,tabIndex:-1,ref:u,style:{...l.style,...p,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});function k(e){return e?"checked":"unchecked"}C.displayName="RadioBubbleInput";var w=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],A="RadioGroup",[P,_]=(0,l.b)(A,[c.Pc,f]),F=(0,c.Pc)(),O=f(),[S,R]=P(A),E=t.forwardRef((e,s)=>{let{__scopeRadioGroup:r,name:t,defaultValue:a,value:n,required:l=!1,disabled:m=!1,orientation:x,dir:h,loop:p=!0,onValueChange:j,...f}=e,g=F(r),v=(0,u.gm)(h),[y,b]=(0,o.T)({prop:n,defaultProp:a??null,onChange:j,caller:A});return(0,i.jsx)(S,{scope:r,name:t,required:l,disabled:m,value:y,onValueChange:b,children:(0,i.jsx)(c.fC,{asChild:!0,...g,orientation:x,dir:v,loop:p,children:(0,i.jsx)(d.WV.div,{role:"radiogroup","aria-required":l,"aria-orientation":x,"data-disabled":m?"":void 0,dir:v,...f,ref:s})})})});E.displayName=A;var D="RadioGroupItem",L=t.forwardRef((e,s)=>{let{__scopeRadioGroup:r,disabled:l,...d}=e,o=R(D,r),u=o.disabled||l,m=F(r),x=O(r),h=t.useRef(null),p=(0,n.e)(s,h),j=o.value===d.value,f=t.useRef(!1);return t.useEffect(()=>{let e=e=>{w.includes(e.key)&&(f.current=!0)},s=()=>f.current=!1;return document.addEventListener("keydown",e),document.addEventListener("keyup",s),()=>{document.removeEventListener("keydown",e),document.removeEventListener("keyup",s)}},[]),(0,i.jsx)(c.ck,{asChild:!0,...m,focusable:!u,active:j,children:(0,i.jsx)(y,{disabled:u,required:o.required,checked:j,...x,...d,name:o.name,ref:p,onCheck:()=>o.onValueChange(d.value),onKeyDown:(0,a.Mj)(e=>{"Enter"===e.key&&e.preventDefault()}),onFocus:(0,a.Mj)(d.onFocus,()=>{f.current&&h.current?.click()})})})});L.displayName=D;var M=t.forwardRef((e,s)=>{let{__scopeRadioGroup:r,...t}=e,a=O(r);return(0,i.jsx)(N,{...a,...t,ref:s})});M.displayName="RadioGroupIndicator";var q=r(3982),z=r(8493);let I=t.forwardRef(({className:e,...s},r)=>i.jsx(E,{className:(0,z.cn)("grid gap-2",e),...s,ref:r}));I.displayName=E.displayName;let Z=t.forwardRef(({className:e,...s},r)=>i.jsx(L,{ref:r,className:(0,z.cn)("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),...s,children:i.jsx(M,{className:"flex items-center justify-center",children:i.jsx(q.Z,{className:"h-2.5 w-2.5 fill-current text-current"})})}));Z.displayName=L.displayName},3922:(e,s,r)=>{"use strict";r.r(s),r.d(s,{$$typeof:()=>n,__esModule:()=>a,default:()=>l});var i=r(8570);let t=(0,i.createProxy)(String.raw`C:\Users\HP\OneDrive\Bureau\infos-sigomap\app\dao\edit\[daoId]\page.tsx`),{__esModule:a,$$typeof:n}=t;t.default;let l=(0,i.createProxy)(String.raw`C:\Users\HP\OneDrive\Bureau\infos-sigomap\app\dao\edit\[daoId]\page.tsx#default`)}};var s=require("../../../../webpack-runtime.js");s.C(e);var r=e=>s(s.s=e),i=s.X(0,[340,880,869,396,594],()=>r(9083));module.exports=i})();
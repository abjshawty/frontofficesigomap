(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[380],{6927:function(e,s,r){Promise.resolve().then(r.bind(r,6905))},6905:function(e,s,r){"use strict";r.r(s),r.d(s,{default:function(){return V}});var a=r(7437),t=r(2265),i=r(7309),n=r(6760),l=r(4608),d=r(1266),o=r(6463),c=r(1210),m=r(9155),u=r(4530),x=r(112);function f(e){let{daoId:s}=e;return(0,a.jsxs)(l.Zb,{className:"border-none shadow-none",children:[(0,a.jsxs)(l.Ol,{children:[(0,a.jsx)(l.ll,{children:"Param\xe8tres G\xe9n\xe9raux du DAO"}),(0,a.jsx)(l.SZ,{children:"Configurez les r\xe8gles et les garanties applicables \xe0 cet appel d'offres."})]}),(0,a.jsxs)(l.aY,{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[(0,a.jsxs)("div",{className:"md:col-span-2 lg:col-span-3 bg-gray-50 p-4 rounded-md border",children:[(0,a.jsx)("h3",{className:"font-semibold text-sm mb-2",children:"Rappel de l'Op\xe9ration de R\xe9f\xe9rence"}),(0,a.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-2 text-xs",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-gray-500",children:"Objet"}),(0,a.jsx)("p",{className:"font-medium",children:"Construction d'un nouveau centre administratif"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-gray-500",children:"Type de march\xe9"}),(0,a.jsx)("p",{className:"font-medium",children:"Travaux"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-gray-500",children:"Mode de passation"}),(0,a.jsx)("p",{className:"font-medium",children:"Appel d'offres ouvert"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-gray-500",children:"Co\xfbt estimatif"}),(0,a.jsx)("p",{className:"font-medium",children:"150 000 000 FCFA"})]})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(c._,{htmlFor:"validity",children:"Dur\xe9e de validit\xe9 des offres (jours)"}),(0,a.jsx)(m.I,{id:"validity",type:"number",defaultValue:90})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(c._,{htmlFor:"cost",children:"Co\xfbt d'acquisition du dossier (FCFA)"}),(0,a.jsx)(m.I,{id:"cost",type:"number",placeholder:"0 si gratuit"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(c._,{children:"Garantie d'offre exig\xe9e"}),(0,a.jsxs)(x.E,{defaultValue:"oui",className:"flex items-center space-x-4 mt-2",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(x.m,{value:"oui",id:"garantie-oui"}),(0,a.jsx)(c._,{htmlFor:"garantie-oui",children:"Oui"})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(x.m,{value:"non",id:"garantie-non"}),(0,a.jsx)(c._,{htmlFor:"garantie-non",children:"Non"})]})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(c._,{children:"Garantie de bonne ex\xe9cution exig\xe9e"}),(0,a.jsxs)(x.E,{defaultValue:"oui",className:"flex items-center space-x-4 mt-2",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(x.m,{value:"oui",id:"execution-oui"}),(0,a.jsx)(c._,{htmlFor:"execution-oui",children:"Oui"})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(x.m,{value:"non",id:"execution-non"}),(0,a.jsx)(c._,{htmlFor:"execution-non",children:"Non"})]})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(c._,{htmlFor:"evalMode",children:"Mode d'\xe9valuation"}),(0,a.jsxs)(u.Ph,{children:[(0,a.jsx)(u.i4,{id:"evalMode",children:(0,a.jsx)(u.ki,{placeholder:"S\xe9lectionner un mode"})}),(0,a.jsxs)(u.Bw,{children:[(0,a.jsx)(u.Ql,{value:"combinaison",children:"Combinaison (Qualit\xe9 / Co\xfbt)"}),(0,a.jsx)(u.Ql,{value:"moins-disant",children:"Moins disant"}),(0,a.jsx)(u.Ql,{value:"mieux-disant",children:"Mieux disant (Qualit\xe9 / Prix)"})]})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(c._,{htmlFor:"lowOffer",children:"Seuil offre anormalement basse (%)"}),(0,a.jsx)(m.I,{id:"lowOffer",type:"number",placeholder:"Ex: 15"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(c._,{htmlFor:"prefSubcontract",children:"Marge de pr\xe9f\xe9rence (Sous-traitance, %)"}),(0,a.jsx)(m.I,{id:"prefSubcontract",type:"number",defaultValue:0,min:0,max:15})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(c._,{htmlFor:"prefArtisan",children:"Marge de pr\xe9f\xe9rence (Artisanale, %)"}),(0,a.jsx)(m.I,{id:"prefArtisan",type:"number",defaultValue:0,min:0,max:5})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(c._,{htmlFor:"maxLots",children:"Nombre maximum de lots attribuables"}),(0,a.jsx)(m.I,{id:"maxLots",type:"number",placeholder:"Laisser vide si illimit\xe9"})]})]})]})}var h=r(7315),p=r(2584);function j(e){let{daoId:s}=e,[r,i]=(0,t.useState)("non");return(0,a.jsxs)(l.Zb,{className:"border-none shadow-none",children:[(0,a.jsxs)(l.Ol,{children:[(0,a.jsx)(l.ll,{children:"\xc9diteur du CCAP"}),(0,a.jsx)(l.SZ,{children:"Compl\xe9tez les articles du Cahier des Clauses Administratives Particuli\xe8res."})]}),(0,a.jsxs)(l.aY,{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)(c._,{children:"Autorit\xe9 Contractante"}),(0,a.jsx)(m.I,{disabled:!0,value:"Minist\xe8re de la Construction et de l'Urbanisme"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(c._,{children:"Prix fermes ou r\xe9visables ?"}),(0,a.jsxs)(x.E,{defaultValue:r,onValueChange:i,className:"flex items-center space-x-4 mt-2",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(x.m,{value:"non",id:"prix-fermes"}),(0,a.jsx)(c._,{htmlFor:"prix-fermes",children:"Fermes"})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(x.m,{value:"oui",id:"prix-revisables"}),(0,a.jsx)(c._,{htmlFor:"prix-revisables",children:"R\xe9visables"})]})]})]})]}),"oui"===r&&(0,a.jsxs)("div",{children:[(0,a.jsx)(c._,{htmlFor:"revision-modalities",children:"Modalit\xe9s de r\xe9vision des prix"}),(0,a.jsx)(h.g,{id:"revision-modalities",placeholder:"D\xe9crivez les modalit\xe9s de r\xe9vision des prix..."})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(c._,{htmlFor:"constitutive-parts",children:"Pi\xe8ces constitutives du march\xe9"}),(0,a.jsx)(h.g,{id:"constitutive-parts",placeholder:"Listez les pi\xe8ces constitutives du march\xe9, par ordre de priorit\xe9...",rows:5,defaultValue:"- Le pr\xe9sent CCAP\n- Le Cahier des Clauses Techniques Particuli\xe8res (CCTP)\n- Le Bordereau des Prix Unitaires (BPU)\n- Le D\xe9tail Quantitatif Estimatif (DQE)"})]})]})]})}var g=r(2478),b=r(6780),N=r(3550),v=r(8422),y=r(883),C=r(3418),w=r(1696);let A=[{id:"LOT01",number:"Lot 1",label:"Gros Œuvre",estimatedAmount:75e6,guarantee:1e6,deadline:120},{id:"LOT02",number:"Lot 2",label:"\xc9lectricit\xe9 & Plomberie",estimatedAmount:4e7,guarantee:5e5,deadline:90},{id:"LOT03",number:"Lot 3",label:"Am\xe9nagements ext\xe9rieurs",estimatedAmount:35e6,guarantee:5e5,deadline:60}];function F(e){let{daoId:s}=e,[r,i]=(0,t.useState)(!1),[d,o]=(0,t.useState)(""),[u,x]=(0,t.useState)(""),[f,h]=(0,t.useState)("");(0,t.useEffect)(()=>{let e=parseFloat(d),s=parseFloat(u);if(e>0&&s>0){let r=.01*e,a=.015*e;s<r||s>a?h("La garantie doit \xeatre entre ".concat(r.toLocaleString()," et ").concat(a.toLocaleString()," FCFA.")):h("")}else h("")},[d,u]);let p=d?.01*parseFloat(d):0,j=d?.015*parseFloat(d):0;return(0,a.jsxs)(l.Zb,{className:"border-none shadow-none",children:[(0,a.jsxs)(l.Ol,{className:"flex flex-row items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)(l.ll,{children:"Gestion de l'Allotissement"}),(0,a.jsx)(l.SZ,{children:"D\xe9finissez les diff\xe9rents lots qui composent ce march\xe9."})]}),(0,a.jsx)(w.Vq,{open:r,onOpenChange:i,children:(0,a.jsxs)(w.cZ,{className:"sm:max-w-[625px]",children:[(0,a.jsxs)(w.fK,{children:[(0,a.jsx)(w.$N,{children:"Ajouter un nouveau lot"}),(0,a.jsx)(w.Be,{children:'Renseignez les informations du lot. Cliquez sur "Enregistrer" pour l\'ajouter.'})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-x-4 gap-y-6 py-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(c._,{htmlFor:"lot-number",children:"Num\xe9ro de lot"}),(0,a.jsx)(m.I,{id:"lot-number",placeholder:"Ex: Lot 1"})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(c._,{htmlFor:"lot-execution-delay",children:"D\xe9lai d'ex\xe9cution (jours)"}),(0,a.jsx)(m.I,{id:"lot-execution-delay",type:"number",placeholder:"Ex: 90"})]}),(0,a.jsxs)("div",{className:"md:col-span-2 space-y-2",children:[(0,a.jsx)(c._,{htmlFor:"lot-label",children:"Libell\xe9 du lot"}),(0,a.jsx)(m.I,{id:"lot-label",placeholder:"Ex: Travaux de gros oeuvre"})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(c._,{htmlFor:"lot-estimated-amount",children:"Montant estimatif (FCFA)"}),(0,a.jsx)(m.I,{id:"lot-estimated-amount",type:"number",placeholder:"Ex: 50000000",value:d||"",onChange:e=>o(e.target.value)})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(c._,{htmlFor:"lot-guarantee",children:"Garantie d'offre (FCFA)"}),(0,a.jsx)(m.I,{id:"lot-guarantee",type:"number",placeholder:"Ex: 750000",value:u||"",onChange:e=>x(e.target.value)}),parseFloat(d||"0")>0&&(0,a.jsxs)("p",{className:"text-xs text-muted-foreground pt-1",children:["Recommand\xe9: ",p.toLocaleString()," - ",j.toLocaleString()," FCFA"]})]}),f&&(0,a.jsxs)("div",{className:"md:col-span-2 flex items-center gap-2 text-sm text-red-600 bg-red-50 p-3 rounded-md",children:[(0,a.jsx)(b.Z,{className:"h-4 w-4"}),(0,a.jsx)("span",{children:f})]})]}),(0,a.jsxs)(w.cN,{children:[(0,a.jsx)(n.z,{variant:"outline",onClick:()=>i(!1),children:"Annuler"}),(0,a.jsx)(n.z,{onClick:()=>{let e=parseFloat(d),s=parseFloat(u);if(e>0&&s>0){let r=.01*e,a=.015*e;s<r||s>a?h("La garantie doit \xeatre entre ".concat(r.toLocaleString()," et ").concat(a.toLocaleString()," FCFA.")):(h(""),i(!1))}else h("Le montant estimatif et la garantie d'offre doivent \xeatre sup\xe9rieurs \xe0 0.")},disabled:!!f,children:"Enregistrer le lot"})]})]})})]}),(0,a.jsx)(l.aY,{children:(0,a.jsxs)(g.iA,{children:[(0,a.jsx)(g.xD,{children:(0,a.jsxs)(g.SC,{children:[(0,a.jsx)(g.ss,{children:"Num\xe9ro"}),(0,a.jsx)(g.ss,{children:"Libell\xe9"}),(0,a.jsx)(g.ss,{className:"text-right",children:"Montant Estimatif (FCFA)"}),(0,a.jsx)(g.ss,{className:"text-right",children:"Garantie d'offre (FCFA)"}),(0,a.jsx)(g.ss,{className:"text-right",children:"D\xe9lai d'ex\xe9cution (jours)"}),(0,a.jsx)(g.ss,{children:(0,a.jsx)("span",{className:"sr-only",children:"Actions"})})]})}),(0,a.jsx)(g.RM,{children:A.map(e=>(0,a.jsxs)(g.SC,{children:[(0,a.jsx)(g.pj,{className:"font-medium",children:e.number}),(0,a.jsx)(g.pj,{children:e.label}),(0,a.jsx)(g.pj,{className:"text-right",children:e.estimatedAmount.toLocaleString()}),(0,a.jsx)(g.pj,{className:"text-right",children:e.guarantee.toLocaleString()}),(0,a.jsx)(g.pj,{className:"text-right",children:e.deadline}),(0,a.jsx)(g.pj,{className:"text-right",children:(0,a.jsxs)(C.h_,{children:[(0,a.jsx)(C.$F,{asChild:!0,children:(0,a.jsxs)(n.z,{variant:"ghost",className:"h-8 w-8 p-0",children:[(0,a.jsx)("span",{className:"sr-only",children:"Ouvrir le menu"}),(0,a.jsx)(N.Z,{className:"h-4 w-4"})]})}),(0,a.jsxs)(C.AW,{align:"end",children:[(0,a.jsxs)(C.Xi,{children:[(0,a.jsx)(v.Z,{className:"mr-2 h-4 w-4"}),(0,a.jsx)("span",{children:"Modifier"})]}),(0,a.jsxs)(C.Xi,{className:"text-red-600",children:[(0,a.jsx)(y.Z,{className:"mr-2 h-4 w-4"}),(0,a.jsx)("span",{children:"Supprimer"})]})]})]})})]},e.id))})]})})]})}var _=r(4541),O=r(649),S=r(1976),R=r(1322);let z=[{id:"crit-1",name:"Capacit\xe9 financi\xe8re",category:"Financier"},{id:"crit-2",name:"Exp\xe9rience similaire",category:"Technique"},{id:"crit-3",name:"Certification ISO 9001",category:"Qualit\xe9"},{id:"crit-4",name:"Personnel cl\xe9 qualifi\xe9",category:"Technique"},{id:"crit-5",name:"D\xe9lai de livraison",category:"Logistique"},{id:"crit-6",name:"Garantie du mat\xe9riel",category:"Technique"}],k=[{id:"LOT01",name:"Lot 1: Gros Œuvre"},{id:"LOT02",name:"Lot 2: \xc9lectricit\xe9 & Plomberie"}];function P(e){let{daoId:s}=e,[r,i]=(0,t.useState)([{...z[1],lots:[k[0].id]},{...z[3],lots:[k[0].id,k[1].id]}]),d=e=>{r.find(s=>s.id===e.id)||i([...r,{...e,lots:[]}])},o=(e,s,a)=>{i(r.map(r=>{if(r.id===e){let e=a?[...r.lots,s]:r.lots.filter(e=>e!==s);return{...r,lots:e}}return r}))};return(0,a.jsxs)(l.Zb,{className:"border-none shadow-none",children:[(0,a.jsxs)(l.Ol,{children:[(0,a.jsx)(l.ll,{children:"D\xe9finition des Crit\xe8res d'\xc9valuation"}),(0,a.jsx)(l.SZ,{children:"S\xe9lectionnez les crit\xe8res requis et affectez-les \xe0 un ou plusieurs lots."})]}),(0,a.jsxs)(l.aY,{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsx)("h3",{className:"font-semibold",children:"Biblioth\xe8que de crit\xe8res"}),(0,a.jsx)("div",{className:"border rounded-lg p-4 space-y-3 max-h-96 overflow-y-auto",children:z.map(e=>(0,a.jsxs)("div",{className:"flex items-center justify-between p-2 rounded-md hover:bg-gray-50",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"font-medium",children:e.name}),(0,a.jsx)(O.C,{variant:"secondary",children:e.category})]}),(0,a.jsxs)(n.z,{size:"sm",variant:"outline",onClick:()=>d(e),children:["Ajouter ",(0,a.jsx)(S.Z,{className:"h-4 w-4 ml-2"})]})]},e.id))})]}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsx)("h3",{className:"font-semibold",children:"Crit\xe8res s\xe9lectionn\xe9s pour ce DAO"}),(0,a.jsx)("div",{className:"border rounded-lg p-4 space-y-4 max-h-96 overflow-y-auto",children:0===r.length?(0,a.jsx)("p",{className:"text-sm text-gray-500 text-center py-8",children:"Aucun crit\xe8re s\xe9lectionn\xe9. Ajoutez des crit\xe8res depuis la biblioth\xe8que de gauche."}):r.map(e=>(0,a.jsxs)("div",{className:"p-3 border rounded-md bg-white",children:[(0,a.jsxs)("div",{className:"flex items-start justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"font-medium",children:e.name}),(0,a.jsx)(O.C,{variant:"outline",children:e.category})]}),(0,a.jsx)(n.z,{size:"icon",variant:"ghost",className:"cursor-grab",children:(0,a.jsx)(R.Z,{className:"h-5 w-5 text-gray-400"})})]}),(0,a.jsxs)("div",{className:"mt-4",children:[(0,a.jsx)(c._,{className:"text-xs font-semibold",children:"Affecter aux lots :"}),(0,a.jsx)("div",{className:"flex items-center space-x-4 mt-2",children:k.map(s=>(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(_.X,{id:"".concat(e.id,"-").concat(s.id),checked:e.lots.includes(s.id),onCheckedChange:r=>o(e.id,s.id,r)}),(0,a.jsx)(c._,{htmlFor:"".concat(e.id,"-").concat(s.id),className:"text-sm font-normal",children:s.name})]},s.id))})]})]},e.id))})]})]})]})}let Z=[{id:"f1",name:"Pr\xe9sident",mandatory:!0},{id:"f2",name:"Secr\xe9taire",mandatory:!0},{id:"f3",name:"Repr\xe9sentant de l'Autorit\xe9 Contractante",mandatory:!0,defaultStructure:"Minist\xe8re de la Construction"},{id:"f4",name:"Contr\xf4leur Financier",mandatory:!0,defaultStructure:"Contr\xf4le Financier du Minist\xe8re"},{id:"f5",name:"Expert Technique 1",mandatory:!1},{id:"f6",name:"Ma\xeetre d'oeuvre",mandatory:!1},{id:"f7",name:"Repr\xe9sentant des usagers",mandatory:!1}];function L(e){let{daoId:s}=e,[r,i]=(0,t.useState)(Z.filter(e=>e.mandatory).map(e=>({...e,structure:e.defaultStructure||""}))),n=(e,s)=>{if(s)i([...r,{...e,structure:e.defaultStructure||""}]);else{if(e.mandatory)return;i(r.filter(s=>s.id!==e.id))}},d=(e,s)=>{i(r.map(r=>r.id===e?{...r,structure:s}:r))};return(0,a.jsxs)(l.Zb,{className:"border-none shadow-none",children:[(0,a.jsxs)(l.Ol,{children:[(0,a.jsx)(l.ll,{children:"Constitution de la Commission (COJO)"}),(0,a.jsx)(l.SZ,{children:"S\xe9lectionnez les fonctions et renseignez les structures correspondantes pour former la commission d'ouverture et de jugement."})]}),(0,a.jsxs)(l.aY,{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsx)("h3",{className:"font-semibold",children:"Fonctions disponibles pour la commission"}),(0,a.jsx)("div",{className:"border rounded-lg p-4 space-y-3",children:Z.map(e=>(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsx)(_.X,{id:e.id,checked:r.some(s=>s.id===e.id),onCheckedChange:s=>n(e,s),disabled:e.mandatory}),(0,a.jsxs)(c._,{htmlFor:e.id,className:"".concat(e.mandatory?"font-bold":""),children:[e.name," ",e.mandatory&&(0,a.jsx)("span",{className:"text-red-500",children:"*"})]})]},e.id))})]}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsx)("h3",{className:"font-semibold",children:"Composition de la commission"}),(0,a.jsx)("div",{className:"border rounded-lg p-4 space-y-4",children:0===r.length?(0,a.jsx)("p",{className:"text-sm text-gray-500 text-center py-8",children:"Aucune fonction s\xe9lectionn\xe9e."}):r.sort((e,s)=>e.name.localeCompare(s.name)).map(e=>(0,a.jsxs)("div",{children:[(0,a.jsx)(c._,{htmlFor:"struct-".concat(e.id),children:e.name}),(0,a.jsx)(m.I,{id:"struct-".concat(e.id),placeholder:"Nom de la structure ou de la personne...",value:e.structure,onChange:s=>d(e.id,s.target.value),disabled:!!e.defaultStructure,className:"mt-1"})]},e.id))})]})]})]})}var D=r(2023),T=r(7164);let E=[{name:"Avis d'Appel d'Offres (AAO)",origin:"Syst\xe8me",status:"G\xe9n\xe9r\xe9",file:"AAO_DAO_2025_001.pdf"},{name:"R\xe8glement Particulier de l'Appel d'Offres (RPAO)",origin:"Syst\xe8me",status:"G\xe9n\xe9r\xe9",file:"RPAO_DAO_2025_001.pdf"},{name:"Cahier des Clauses Administratives Particuli\xe8res (CCAP)",origin:"Syst\xe8me",status:"G\xe9n\xe9r\xe9",file:"CCAP_DAO_2025_001.pdf"},{name:"Cahier des Clauses Techniques Particuli\xe8res (CCTP)",origin:"AC",status:"Requis",file:null},{name:"Bordereau des Prix Unitaires (BPU)",origin:"AC",status:"Requis",file:null},{name:"D\xe9tail Quantitatif Estimatif (DQE)",origin:"AC",status:"Fourni",file:"DQE_DAO_2025_001.xlsx"},{name:"Plans et sch\xe9mas techniques",origin:"AC",status:"Optionnel",file:null}],q={Généré:"actif",Requis:"destructive",Fourni:"en-attente",Optionnel:"secondary"};function M(e){let{daoId:s}=e;return(0,a.jsxs)(l.Zb,{className:"border-none shadow-none",children:[(0,a.jsxs)(l.Ol,{children:[(0,a.jsx)(l.ll,{children:"Pi\xe8ces du Dossier d'Appel d'Offres"}),(0,a.jsx)(l.SZ,{children:"Visualisez les documents g\xe9n\xe9r\xe9s par le syst\xe8me et joignez les pi\xe8ces requises pour compl\xe9ter le dossier."})]}),(0,a.jsx)(l.aY,{children:(0,a.jsxs)(g.iA,{children:[(0,a.jsx)(g.xD,{children:(0,a.jsxs)(g.SC,{children:[(0,a.jsx)(g.ss,{children:"Nom du document"}),(0,a.jsx)(g.ss,{children:"Origine"}),(0,a.jsx)(g.ss,{children:"Statut"}),(0,a.jsx)(g.ss,{className:"text-right",children:"Actions"})]})}),(0,a.jsx)(g.RM,{children:E.map(e=>(0,a.jsxs)(g.SC,{children:[(0,a.jsxs)(g.pj,{className:"font-medium flex items-center",children:[(0,a.jsx)(D.Z,{className:"h-4 w-4 mr-2 text-gray-500"}),e.name]}),(0,a.jsx)(g.pj,{children:e.origin}),(0,a.jsx)(g.pj,{children:(0,a.jsx)(O.C,{variant:q[e.status],children:e.status})}),(0,a.jsxs)(g.pj,{className:"text-right space-x-2",children:["G\xe9n\xe9r\xe9"===e.status&&(0,a.jsxs)(n.z,{variant:"outline",size:"sm",children:[(0,a.jsx)(T.Z,{className:"h-4 w-4 mr-2"}),"T\xe9l\xe9charger"]}),"AC"===e.origin&&!e.file&&(0,a.jsxs)(n.z,{variant:"default",size:"sm",children:[(0,a.jsx)(p.Z,{className:"h-4 w-4 mr-2"}),"Joindre"]}),"AC"===e.origin&&e.file&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("span",{className:"text-sm italic text-gray-500 mr-2",children:e.file}),(0,a.jsx)(n.z,{variant:"destructive",size:"icon",children:(0,a.jsx)(y.Z,{className:"h-4 w-4"})})]})]})]},e.name))})]})})]})}let I=["Param\xe8tres G\xe9n\xe9raux","CCAP","Allotissement","Crit\xe8res d'\xc9valuation","Commission (COJO)","Pi\xe8ces du Dossier"];function V(){let e=(0,o.useRouter)(),{daoId:s}=(0,o.useParams)(),[r,c]=(0,t.useState)(I[0]),m="DAO/2025/".concat(s);return(0,a.jsx)(i.MainLayout,{children:(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsx)(n.z,{variant:"outline",size:"icon",onClick:()=>e.push("/dao/".concat(s)),children:(0,a.jsx)(d.Z,{className:"h-4 w-4"})}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("h1",{className:"text-2xl font-bold",children:["\xc9dition du DAO : ",m]}),(0,a.jsx)("p",{className:"text-muted-foreground",children:"Modifiez les diff\xe9rentes sections du brouillon avant de le soumettre pour validation."})]})]}),(0,a.jsxs)(l.Zb,{children:[(0,a.jsx)(l.Ol,{children:(0,a.jsx)("div",{className:"border-b border-gray-200",children:(0,a.jsx)("nav",{className:"-mb-px flex space-x-6","aria-label":"Tabs",children:I.map(e=>(0,a.jsx)("button",{onClick:()=>c(e),className:"".concat(r===e?"border-sigomap-bleu text-sigomap-bleu":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"," whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm"),children:e},e))})})}),(0,a.jsx)(l.aY,{className:"mt-6",children:"Param\xe8tres G\xe9n\xe9raux"===r?(0,a.jsx)(f,{daoId:s}):"CCAP"===r?(0,a.jsx)(j,{daoId:s}):"Allotissement"===r?(0,a.jsx)(F,{daoId:s}):"Crit\xe8res d'\xc9valuation"===r?(0,a.jsx)(P,{daoId:s}):"Commission (COJO)"===r?(0,a.jsx)(L,{daoId:s}):"Pi\xe8ces du Dossier"===r?(0,a.jsx)(M,{daoId:s}):null})]}),(0,a.jsxs)("div",{className:"flex justify-end gap-2",children:[(0,a.jsx)(n.z,{variant:"outline",children:"Sauvegarder en Brouillon"}),(0,a.jsx)(n.z,{children:"Soumettre pour validation"})]})]})})}},649:function(e,s,r){"use strict";r.d(s,{C:function(){return l}});var a=r(7437);r(2265);var t=r(3027),i=r(6095);let n=(0,t.j)("inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{actif:"border-transparent bg-sigomap-vert text-sigomap-blanc",inactif:"border-transparent bg-sigomap-gris text-sigomap-blanc","en-attente":"border-transparent bg-sigomap-orange text-sigomap-blanc",user:"border-sigomap-bleu/50 text-sigomap-bleu-dark bg-sigomap-bleu/10",admin:"border-sigomap-vert/50 text-sigomap-vert-dark bg-sigomap-vert/10",super_admin:"border-sigomap-orange/50 text-sigomap-orange-dark bg-sigomap-orange/10",default:"border-transparent bg-sigomap-gris-dark text-sigomap-blanc",secondary:"border-transparent bg-sigomap-gris-light text-sigomap-gris-dark",destructive:"border-transparent bg-red-500 text-white",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function l(e){let{className:s,variant:r,...t}=e;return(0,a.jsx)("div",{className:(0,i.cn)(n({variant:r}),s),...t})}},4608:function(e,s,r){"use strict";r.d(s,{Ol:function(){return l},SZ:function(){return o},Zb:function(){return n},aY:function(){return c},eW:function(){return m},ll:function(){return d}});var a=r(7437),t=r(2265),i=r(6095);let n=t.forwardRef((e,s)=>{let{className:r,...t}=e;return(0,a.jsx)("div",{ref:s,className:(0,i.cn)("rounded-lg border bg-sigomap-bg-primary text-sigomap-gris-dark shadow-sm",r),...t})});n.displayName="Card";let l=t.forwardRef((e,s)=>{let{className:r,...t}=e;return(0,a.jsx)("div",{ref:s,className:(0,i.cn)("flex flex-col space-y-1.5 p-6",r),...t})});l.displayName="CardHeader";let d=t.forwardRef((e,s)=>{let{className:r,...t}=e;return(0,a.jsx)("h3",{ref:s,className:(0,i.cn)("text-lg font-semibold leading-none tracking-tight",r),...t})});d.displayName="CardTitle";let o=t.forwardRef((e,s)=>{let{className:r,...t}=e;return(0,a.jsx)("p",{ref:s,className:(0,i.cn)("text-sm text-sigomap-gris",r),...t})});o.displayName="CardDescription";let c=t.forwardRef((e,s)=>{let{className:r,...t}=e;return(0,a.jsx)("div",{ref:s,className:(0,i.cn)("p-6 pt-0",r),...t})});c.displayName="CardContent";let m=t.forwardRef((e,s)=>{let{className:r,...t}=e;return(0,a.jsx)("div",{ref:s,className:(0,i.cn)("flex items-center p-6 pt-0",r),...t})});m.displayName="CardFooter"},1696:function(e,s,r){"use strict";r.d(s,{$N:function(){return h},Be:function(){return p},Vq:function(){return d},cN:function(){return f},cZ:function(){return u},fK:function(){return x},hg:function(){return o}});var a=r(7437),t=r(2265),i=r(3304),n=r(4697),l=r(6095);let d=i.fC,o=i.xz,c=i.h_;i.x8;let m=t.forwardRef((e,s)=>{let{className:r,...t}=e;return(0,a.jsx)(i.aV,{ref:s,className:(0,l.cn)("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",r),...t})});m.displayName=i.aV.displayName;let u=t.forwardRef((e,s)=>{let{className:r,children:t,...d}=e;return(0,a.jsxs)(c,{children:[(0,a.jsx)(m,{}),(0,a.jsxs)(i.VY,{ref:s,className:(0,l.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",r),...d,children:[t,(0,a.jsxs)(i.x8,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[(0,a.jsx)(n.Z,{className:"h-4 w-4"}),(0,a.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})});u.displayName=i.VY.displayName;let x=e=>{let{className:s,...r}=e;return(0,a.jsx)("div",{className:(0,l.cn)("flex flex-col space-y-1.5 text-center sm:text-left",s),...r})};x.displayName="DialogHeader";let f=e=>{let{className:s,...r}=e;return(0,a.jsx)("div",{className:(0,l.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",s),...r})};f.displayName="DialogFooter";let h=t.forwardRef((e,s)=>{let{className:r,...t}=e;return(0,a.jsx)(i.Dx,{ref:s,className:(0,l.cn)("text-lg font-semibold leading-none tracking-tight",r),...t})});h.displayName=i.Dx.displayName;let p=t.forwardRef((e,s)=>{let{className:r,...t}=e;return(0,a.jsx)(i.dk,{ref:s,className:(0,l.cn)("text-sm text-muted-foreground",r),...t})});p.displayName=i.dk.displayName},1210:function(e,s,r){"use strict";r.d(s,{_:function(){return o}});var a=r(7437),t=r(2265),i=r(8364),n=r(3027),l=r(6095);let d=(0,n.j)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),o=t.forwardRef((e,s)=>{let{className:r,...t}=e;return(0,a.jsx)(i.f,{ref:s,className:(0,l.cn)(d(),r),...t})});o.displayName=i.f.displayName},4530:function(e,s,r){"use strict";r.d(s,{Bw:function(){return u},Ph:function(){return o},Ql:function(){return x},i4:function(){return m},ki:function(){return c}});var a=r(7437),t=r(2265),i=r(613),n=r(2421),l=r(2468),d=r(6095);let o=i.fC;i.ZA;let c=i.B4,m=t.forwardRef((e,s)=>{let{className:r,children:t,...l}=e;return(0,a.jsxs)(i.xz,{ref:s,className:(0,d.cn)("flex h-10 w-full items-center justify-between rounded-md border border-sigomap-gris-light bg-sigomap-bg-primary px-3 py-2 text-sm ring-offset-background placeholder:text-sigomap-gris focus:outline-none focus:ring-2 focus:ring-sigomap-vert focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",r),...l,children:[t,(0,a.jsx)(i.JO,{asChild:!0,children:(0,a.jsx)(n.Z,{className:"h-4 w-4 opacity-50"})})]})});m.displayName=i.xz.displayName;let u=t.forwardRef((e,s)=>{let{className:r,children:t,position:n="popper",...l}=e;return(0,a.jsx)(i.h_,{children:(0,a.jsx)(i.VY,{ref:s,className:(0,d.cn)("relative z-50 min-w-[8rem] overflow-hidden rounded-md border bg-sigomap-bg-primary text-sigomap-gris-dark shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===n&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",r),position:n,...l,children:(0,a.jsx)(i.l_,{className:(0,d.cn)("p-1","popper"===n&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t})})})});u.displayName=i.VY.displayName,t.forwardRef((e,s)=>{let{className:r,...t}=e;return(0,a.jsx)(i.__,{ref:s,className:(0,d.cn)("py-1.5 pl-8 pr-2 text-sm font-semibold",r),...t})}).displayName=i.__.displayName;let x=t.forwardRef((e,s)=>{let{className:r,children:t,...n}=e;return(0,a.jsxs)(i.ck,{ref:s,className:(0,d.cn)("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-sigomap-bg-secondary data-[disabled]:pointer-events-none data-[disabled]:opacity-50",r),...n,children:[(0,a.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,a.jsx)(i.wU,{children:(0,a.jsx)(l.Z,{className:"h-4 w-4"})})}),(0,a.jsx)(i.eT,{children:t})]})});x.displayName=i.ck.displayName,t.forwardRef((e,s)=>{let{className:r,...t}=e;return(0,a.jsx)(i.Z0,{ref:s,className:(0,d.cn)("-mx-1 my-1 h-px bg-sigomap-gris-light",r),...t})}).displayName=i.Z0.displayName},2478:function(e,s,r){"use strict";r.d(s,{RM:function(){return d},SC:function(){return o},iA:function(){return n},pj:function(){return m},ss:function(){return c},xD:function(){return l}});var a=r(7437),t=r(2265),i=r(6095);let n=t.forwardRef((e,s)=>{let{className:r,...t}=e;return(0,a.jsx)("div",{className:"relative w-full overflow-auto",children:(0,a.jsx)("table",{ref:s,className:(0,i.cn)("w-full caption-bottom text-sm",r),...t})})});n.displayName="Table";let l=t.forwardRef((e,s)=>{let{className:r,...t}=e;return(0,a.jsx)("thead",{ref:s,className:(0,i.cn)("[&_tr]:border-b",r),...t})});l.displayName="TableHeader";let d=t.forwardRef((e,s)=>{let{className:r,...t}=e;return(0,a.jsx)("tbody",{ref:s,className:(0,i.cn)("[&_tr:last-child]:border-0",r),...t})});d.displayName="TableBody",t.forwardRef((e,s)=>{let{className:r,...t}=e;return(0,a.jsx)("tfoot",{ref:s,className:(0,i.cn)("border-t bg-sigomap-gris-light/50 font-medium [&>tr]:last:border-b-0",r),...t})}).displayName="TableFooter";let o=t.forwardRef((e,s)=>{let{className:r,...t}=e;return(0,a.jsx)("tr",{ref:s,className:(0,i.cn)("border-b transition-colors hover:bg-sigomap-gris-light/50 data-[state=selected]:bg-sigomap-gris-light",r),...t})});o.displayName="TableRow";let c=t.forwardRef((e,s)=>{let{className:r,...t}=e;return(0,a.jsx)("th",{ref:s,className:(0,i.cn)("h-12 px-4 text-left align-middle font-medium text-sigomap-gris-dark [&:has([role=checkbox])]:pr-0",r),...t})});c.displayName="TableHead";let m=t.forwardRef((e,s)=>{let{className:r,...t}=e;return(0,a.jsx)("td",{ref:s,className:(0,i.cn)("p-4 align-middle [&:has([role=checkbox])]:pr-0",r),...t})});m.displayName="TableCell",t.forwardRef((e,s)=>{let{className:r,...t}=e;return(0,a.jsx)("caption",{ref:s,className:(0,i.cn)("mt-4 text-sm text-sigomap-gris",r),...t})}).displayName="TableCaption"},7315:function(e,s,r){"use strict";r.d(s,{g:function(){return n}});var a=r(7437),t=r(2265),i=r(6095);let n=t.forwardRef((e,s)=>{let{className:r,...t}=e;return(0,a.jsx)("textarea",{className:(0,i.cn)("flex min-h-[80px] w-full rounded-md border border-sigomap-gris-light bg-sigomap-bg-primary px-3 py-2 text-sm ring-offset-background placeholder:text-sigomap-gris focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-sigomap-vert focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",r),ref:s,...t})});n.displayName="Textarea"},4541:function(e,s,r){"use strict";r.d(s,{X:function(){return d}});var a=r(7437),t=r(2265),i=r(9324),n=r(2468),l=r(6095);let d=t.forwardRef((e,s)=>{let{className:r,...t}=e;return(0,a.jsx)(i.fC,{ref:s,className:(0,l.cn)("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",r),...t,children:(0,a.jsx)(i.z$,{className:(0,l.cn)("flex items-center justify-center text-current"),children:(0,a.jsx)(n.Z,{className:"h-4 w-4"})})})});d.displayName=i.fC.displayName},112:function(e,s,r){"use strict";r.d(s,{E:function(){return d},m:function(){return o}});var a=r(7437),t=r(2265),i=r(9497),n=r(8165),l=r(6095);let d=t.forwardRef((e,s)=>{let{className:r,...t}=e;return(0,a.jsx)(i.fC,{className:(0,l.cn)("grid gap-2",r),...t,ref:s})});d.displayName=i.fC.displayName;let o=t.forwardRef((e,s)=>{let{className:r,...t}=e;return(0,a.jsx)(i.ck,{ref:s,className:(0,l.cn)("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",r),...t,children:(0,a.jsx)(i.z$,{className:"flex items-center justify-center",children:(0,a.jsx)(n.Z,{className:"h-2.5 w-2.5 fill-current text-current"})})})});o.displayName=i.ck.displayName}},function(e){e.O(0,[6963,2199,746,7658,613,4518,7309,2971,7023,1744],function(){return e(e.s=6927)}),_N_E=e.O()}]);
(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6931],{6753:function(e,r,s){Promise.resolve().then(s.bind(s,7501))},7501:function(e,r,s){"use strict";s.r(r),s.d(r,{default:function(){return T}});var n=s(7437),t=s(7138),i=s(7309),a=s(4608),l=s(6864),c=s(6760),o=s(2365),d=s(2023),m=s(7164);function f(e){let{title:r,documents:s}=e;return(0,n.jsxs)(a.Zb,{children:[(0,n.jsx)(a.Ol,{children:(0,n.jsxs)(a.ll,{className:"text-base flex items-center",children:[(0,n.jsx)(o.Z,{className:"h-4 w-4 mr-2"})," ",r]})}),(0,n.jsx)(a.aY,{children:(0,n.jsx)("ul",{className:"space-y-3",children:s.map(e=>(0,n.jsxs)("li",{className:"flex items-center justify-between p-2 rounded-md bg-muted/50",children:[(0,n.jsxs)("div",{className:"flex items-center",children:[(0,n.jsx)(d.Z,{className:"h-5 w-5 mr-3 text-muted-foreground"}),(0,n.jsx)("span",{className:"text-sm font-medium",children:e.nom})]}),(0,n.jsx)(c.z,{variant:"outline",size:"sm",asChild:!0,children:(0,n.jsxs)("a",{href:e.url,download:!0,children:[(0,n.jsx)(m.Z,{className:"h-4 w-4 mr-2"}),"T\xe9l\xe9charger"]})})]},e.id))})})]})}function u(e){let{offre:r}=e;return(0,n.jsxs)(l.mQ,{defaultValue:"administratif",className:"w-full",children:[(0,n.jsxs)(l.dr,{className:"grid w-full grid-cols-3",children:[(0,n.jsx)(l.SP,{value:"administratif",children:"Pi\xe8ces Administratives"}),(0,n.jsx)(l.SP,{value:"technique",children:"Offre Technique"}),(0,n.jsx)(l.SP,{value:"financiere",children:"Offre Financi\xe8re"})]}),(0,n.jsx)(l.nU,{value:"administratif",className:"mt-4",children:(0,n.jsx)(f,{title:"Documents Administratifs",documents:r.documentsAdministratifs})}),(0,n.jsx)(l.nU,{value:"technique",className:"mt-4",children:(0,n.jsx)(f,{title:"Documents Techniques",documents:r.offreTechnique})}),(0,n.jsx)(l.nU,{value:"financiere",className:"mt-4",children:(0,n.jsx)(f,{title:"Documents Financiers",documents:r.offreFinanciere})})]})}var x=s(1014),h=s(9343),j=s(5285),p=s(2265),g=s(1538),N=s(6095),v=s(1210);let b=h.RV,y=p.createContext({}),w=e=>{let{...r}=e;return(0,n.jsx)(y.Provider,{value:{name:r.name},children:(0,n.jsx)(h.Qr,{...r})})},C=()=>{let e=p.useContext(y),r=p.useContext(R),{getFieldState:s,formState:n}=(0,h.Gc)(),t=s(e.name,n);if(!e)throw Error("useFormField should be used within <FormField>");let{id:i}=r;return{id:i,name:e.name,formItemId:"".concat(i,"-form-item"),formDescriptionId:"".concat(i,"-form-item-description"),formMessageId:"".concat(i,"-form-item-message"),...t}},R=p.createContext({}),F=p.forwardRef((e,r)=>{let{className:s,...t}=e,i=p.useId();return(0,n.jsx)(R.Provider,{value:{id:i},children:(0,n.jsx)("div",{ref:r,className:(0,N.cn)("space-y-2",s),...t})})});F.displayName="FormItem";let O=p.forwardRef((e,r)=>{let{className:s,...t}=e,{error:i,formItemId:a}=C();return(0,n.jsx)(v._,{ref:r,className:(0,N.cn)(i&&"text-destructive",s),htmlFor:a,...t})});O.displayName="FormLabel";let k=p.forwardRef((e,r)=>{let{...s}=e,{error:t,formItemId:i,formDescriptionId:a,formMessageId:l}=C();return(0,n.jsx)(g.g7,{ref:r,id:i,"aria-describedby":t?"".concat(a," ").concat(l):"".concat(a),"aria-invalid":!!t,...s})});k.displayName="FormControl";let I=p.forwardRef((e,r)=>{let{className:s,...t}=e,{formDescriptionId:i}=C();return(0,n.jsx)("p",{ref:r,id:i,className:(0,N.cn)("text-sm text-muted-foreground",s),...t})});I.displayName="FormDescription";let S=p.forwardRef((e,r)=>{var s;let{className:t,children:i,...a}=e,{error:l,formMessageId:c}=C(),o=l?String(null!==(s=null==l?void 0:l.message)&&void 0!==s?s:""):i;return o?(0,n.jsx)("p",{ref:r,id:c,className:(0,N.cn)("text-sm font-medium text-destructive",t),...a,children:o}):null});S.displayName="FormMessage";var Z=s(112),z=s(9155),_=s(7315);let E=j.Ry({criteria:j.IX(j.Ry({id:j.Z_(),name:j.Z_(),status:j.Km(["conforme","non-conforme","a-verifier"],{message:"Vous devez s\xe9lectionner un statut."}),note:j.Rx().min(0).max(100).optional(),comment:j.Z_().optional()})),globalComment:j.Z_().optional()}),V={criteria:[{id:"crit-1",name:"Compl\xe9tude du dossier administratif"},{id:"crit-2",name:"R\xe9f\xe9rences techniques pour des projets similaires"},{id:"crit-3",name:"Capacit\xe9 financi\xe8re de l'entreprise"},{id:"crit-4",name:"M\xe9thodologie propos\xe9e"}].map(e=>({id:e.id,name:e.name,status:"a-verifier",note:void 0,comment:""})),globalComment:""};function A(){let e=(0,h.cI)({resolver:(0,x.F)(E),defaultValues:V});return(0,n.jsxs)(a.Zb,{children:[(0,n.jsx)(a.Ol,{children:(0,n.jsx)(a.ll,{children:"Grille d'\xc9valuation de l'Offre"})}),(0,n.jsx)(a.aY,{children:(0,n.jsx)(b,{...e,children:(0,n.jsxs)("form",{onSubmit:e.handleSubmit(function(e){console.log(e)}),className:"space-y-8",children:[e.getValues("criteria").map((r,s)=>(0,n.jsx)(w,{control:e.control,name:"criteria.".concat(s,".status"),render:t=>{let{field:i}=t;return(0,n.jsxs)(F,{className:"space-y-3 p-4 border rounded-md",children:[(0,n.jsx)(O,{className:"font-semibold",children:r.name}),(0,n.jsx)(k,{children:(0,n.jsxs)(Z.E,{onValueChange:i.onChange,defaultValue:i.value,className:"flex flex-col space-y-1",children:[(0,n.jsxs)(F,{className:"flex items-center space-x-3 space-y-0",children:[(0,n.jsx)(k,{children:(0,n.jsx)(Z.m,{value:"conforme"})}),(0,n.jsx)(O,{className:"font-normal",children:"Conforme"})]}),(0,n.jsxs)(F,{className:"flex items-center space-x-3 space-y-0",children:[(0,n.jsx)(k,{children:(0,n.jsx)(Z.m,{value:"non-conforme"})}),(0,n.jsx)(O,{className:"font-normal",children:"Non conforme"})]}),(0,n.jsxs)(F,{className:"flex items-center space-x-3 space-y-0",children:[(0,n.jsx)(k,{children:(0,n.jsx)(Z.m,{value:"a-verifier"})}),(0,n.jsx)(O,{className:"font-normal",children:"\xc0 v\xe9rifier"})]})]})}),(0,n.jsx)(S,{}),(0,n.jsxs)("div",{className:"grid grid-cols-2 gap-4 pt-2",children:[(0,n.jsx)(w,{control:e.control,name:"criteria.".concat(s,".note"),render:e=>{let{field:r}=e;return(0,n.jsxs)(F,{children:[(0,n.jsx)(O,{children:"Note (optionnel)"}),(0,n.jsx)(k,{children:(0,n.jsx)(z.I,{type:"number",placeholder:"ex: 85",...r,onChange:e=>r.onChange(+e.target.value)})})]})}}),(0,n.jsx)(w,{control:e.control,name:"criteria.".concat(s,".comment"),render:e=>{let{field:r}=e;return(0,n.jsxs)(F,{children:[(0,n.jsx)(O,{children:"Avis / Commentaire"}),(0,n.jsx)(k,{children:(0,n.jsx)(_.g,{placeholder:"Ajouter un commentaire...",...r})})]})}})]})]})}},r.id)),(0,n.jsx)(w,{control:e.control,name:"globalComment",render:e=>{let{field:r}=e;return(0,n.jsxs)(F,{children:[(0,n.jsx)(O,{className:"text-lg font-semibold",children:"Commentaire G\xe9n\xe9ral"}),(0,n.jsx)(k,{children:(0,n.jsx)(_.g,{placeholder:"Ajoutez un commentaire global sur l'offre...",className:"resize-y",...r})}),(0,n.jsx)(I,{children:"Ce commentaire appara\xeetra dans le rapport de synth\xe8se."}),(0,n.jsx)(S,{})]})}}),(0,n.jsx)(c.z,{type:"submit",children:"Enregistrer l'\xe9valuation"})]})})})]})}var q=s(1266);let P={"OE-01":{name:"Tech Solutions SARL"},"OE-02":{name:"Global Office Supplies"},"OE-03":{name:"Info Distribution SA"},"OE-04":{name:"Le Fournisseur Local"}};function T(e){let{params:r}=e,s=P[r.offreId];return s?(0,n.jsx)(i.MainLayout,{children:(0,n.jsxs)("div",{className:"space-y-6",children:[(0,n.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,n.jsx)(c.z,{variant:"outline",size:"icon",asChild:!0,children:(0,n.jsx)(t.default,{href:"/cojo/".concat(r.sessionId),children:(0,n.jsx)(q.Z,{className:"h-4 w-4"})})}),(0,n.jsxs)("div",{children:[(0,n.jsx)("h1",{className:"text-2xl font-bold",children:"\xc9valuation de l'offre"}),(0,n.jsxs)("p",{className:"text-muted-foreground",children:["Soumissionnaire: ",(0,n.jsx)("span",{className:"font-semibold",children:s.name})]})]})]}),(0,n.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[(0,n.jsx)("div",{className:"lg:col-span-2",children:(0,n.jsx)(A,{})}),(0,n.jsx)("div",{children:(0,n.jsx)(u,{offre:{documentsAdministratifs:[],offreTechnique:[],offreFinanciere:[]}})})]})]})}):(0,n.jsxs)(i.MainLayout,{children:[(0,n.jsx)("div",{children:"Offre non trouv\xe9e"}),(0,n.jsx)(c.z,{asChild:!0,variant:"outline",children:(0,n.jsx)(t.default,{href:"/cojo/".concat(r.sessionId),children:"Retour"})})]})}},4608:function(e,r,s){"use strict";s.d(r,{Ol:function(){return l},SZ:function(){return o},Zb:function(){return a},aY:function(){return d},eW:function(){return m},ll:function(){return c}});var n=s(7437),t=s(2265),i=s(6095);let a=t.forwardRef((e,r)=>{let{className:s,...t}=e;return(0,n.jsx)("div",{ref:r,className:(0,i.cn)("rounded-lg border bg-sigomap-bg-primary text-sigomap-gris-dark shadow-sm",s),...t})});a.displayName="Card";let l=t.forwardRef((e,r)=>{let{className:s,...t}=e;return(0,n.jsx)("div",{ref:r,className:(0,i.cn)("flex flex-col space-y-1.5 p-6",s),...t})});l.displayName="CardHeader";let c=t.forwardRef((e,r)=>{let{className:s,...t}=e;return(0,n.jsx)("h3",{ref:r,className:(0,i.cn)("text-lg font-semibold leading-none tracking-tight",s),...t})});c.displayName="CardTitle";let o=t.forwardRef((e,r)=>{let{className:s,...t}=e;return(0,n.jsx)("p",{ref:r,className:(0,i.cn)("text-sm text-sigomap-gris",s),...t})});o.displayName="CardDescription";let d=t.forwardRef((e,r)=>{let{className:s,...t}=e;return(0,n.jsx)("div",{ref:r,className:(0,i.cn)("p-6 pt-0",s),...t})});d.displayName="CardContent";let m=t.forwardRef((e,r)=>{let{className:s,...t}=e;return(0,n.jsx)("div",{ref:r,className:(0,i.cn)("flex items-center p-6 pt-0",s),...t})});m.displayName="CardFooter"},1210:function(e,r,s){"use strict";s.d(r,{_:function(){return o}});var n=s(7437),t=s(2265),i=s(8364),a=s(3027),l=s(6095);let c=(0,a.j)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),o=t.forwardRef((e,r)=>{let{className:s,...t}=e;return(0,n.jsx)(i.f,{ref:r,className:(0,l.cn)(c(),s),...t})});o.displayName=i.f.displayName},7315:function(e,r,s){"use strict";s.d(r,{g:function(){return a}});var n=s(7437),t=s(2265),i=s(6095);let a=t.forwardRef((e,r)=>{let{className:s,...t}=e;return(0,n.jsx)("textarea",{className:(0,i.cn)("flex min-h-[80px] w-full rounded-md border border-sigomap-gris-light bg-sigomap-bg-primary px-3 py-2 text-sm ring-offset-background placeholder:text-sigomap-gris focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-sigomap-vert focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",s),ref:r,...t})});a.displayName="Textarea"},112:function(e,r,s){"use strict";s.d(r,{E:function(){return c},m:function(){return o}});var n=s(7437),t=s(2265),i=s(9497),a=s(8165),l=s(6095);let c=t.forwardRef((e,r)=>{let{className:s,...t}=e;return(0,n.jsx)(i.fC,{className:(0,l.cn)("grid gap-2",s),...t,ref:r})});c.displayName=i.fC.displayName;let o=t.forwardRef((e,r)=>{let{className:s,...t}=e;return(0,n.jsx)(i.ck,{ref:r,className:(0,l.cn)("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",s),...t,children:(0,n.jsx)(i.z$,{className:"flex items-center justify-center",children:(0,n.jsx)(a.Z,{className:"h-2.5 w-2.5 fill-current text-current"})})})});o.displayName=i.ck.displayName},6864:function(e,r,s){"use strict";s.d(r,{SP:function(){return o},dr:function(){return c},mQ:function(){return l},nU:function(){return d}});var n=s(7437),t=s(2265),i=s(2447),a=s(6095);let l=i.fC,c=t.forwardRef((e,r)=>{let{className:s,...t}=e;return(0,n.jsx)(i.aV,{ref:r,className:(0,a.cn)("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",s),...t})});c.displayName=i.aV.displayName;let o=t.forwardRef((e,r)=>{let{className:s,...t}=e;return(0,n.jsx)(i.xz,{ref:r,className:(0,a.cn)("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",s),...t})});o.displayName=i.xz.displayName;let d=t.forwardRef((e,r)=>{let{className:s,...t}=e;return(0,n.jsx)(i.VY,{ref:r,className:(0,a.cn)("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",s),...t})});d.displayName=i.VY.displayName}},function(e){e.O(0,[6963,2199,746,7658,3562,7309,2971,7023,1744],function(){return e(e.s=6753)}),_N_E=e.O()}]);
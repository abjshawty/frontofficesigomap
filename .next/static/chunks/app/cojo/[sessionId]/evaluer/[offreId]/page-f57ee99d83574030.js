(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6931],{9755:function(e,r,s){Promise.resolve().then(s.bind(s,3618))},3618:function(e,r,s){"use strict";s.r(r),s.d(r,{default:function(){return G}});var n=s(7437),a=s(7138),i=s(7309),t=s(4608),l=s(2265),c=s(2447),o=s(6095);let d=c.fC,m=l.forwardRef((e,r)=>{let{className:s,...a}=e;return(0,n.jsx)(c.aV,{ref:r,className:(0,o.cn)("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",s),...a})});m.displayName=c.aV.displayName;let f=l.forwardRef((e,r)=>{let{className:s,...a}=e;return(0,n.jsx)(c.xz,{ref:r,className:(0,o.cn)("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",s),...a})});f.displayName=c.xz.displayName;let u=l.forwardRef((e,r)=>{let{className:s,...a}=e;return(0,n.jsx)(c.VY,{ref:r,className:(0,o.cn)("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",s),...a})});u.displayName=c.VY.displayName;var x=s(6760),h=s(2365),j=s(2023),p=s(7164);function g(e){let{title:r,documents:s}=e;return(0,n.jsxs)(t.Zb,{children:[(0,n.jsx)(t.Ol,{children:(0,n.jsxs)(t.ll,{className:"text-base flex items-center",children:[(0,n.jsx)(h.Z,{className:"h-4 w-4 mr-2"})," ",r]})}),(0,n.jsx)(t.aY,{children:(0,n.jsx)("ul",{className:"space-y-3",children:s.map(e=>(0,n.jsxs)("li",{className:"flex items-center justify-between p-2 rounded-md bg-muted/50",children:[(0,n.jsxs)("div",{className:"flex items-center",children:[(0,n.jsx)(j.Z,{className:"h-5 w-5 mr-3 text-muted-foreground"}),(0,n.jsx)("span",{className:"text-sm font-medium",children:e.nom})]}),(0,n.jsx)(x.z,{variant:"outline",size:"sm",asChild:!0,children:(0,n.jsxs)("a",{href:e.url,download:!0,children:[(0,n.jsx)(p.Z,{className:"h-4 w-4 mr-2"}),"T\xe9l\xe9charger"]})})]},e.id))})})]})}function N(e){let{offre:r}=e;return(0,n.jsxs)(d,{defaultValue:"administratif",className:"w-full",children:[(0,n.jsxs)(m,{className:"grid w-full grid-cols-3",children:[(0,n.jsx)(f,{value:"administratif",children:"Pi\xe8ces Administratives"}),(0,n.jsx)(f,{value:"technique",children:"Offre Technique"}),(0,n.jsx)(f,{value:"financiere",children:"Offre Financi\xe8re"})]}),(0,n.jsx)(u,{value:"administratif",className:"mt-4",children:(0,n.jsx)(g,{title:"Documents Administratifs",documents:r.documentsAdministratifs})}),(0,n.jsx)(u,{value:"technique",className:"mt-4",children:(0,n.jsx)(g,{title:"Documents Techniques",documents:r.offreTechnique})}),(0,n.jsx)(u,{value:"financiere",className:"mt-4",children:(0,n.jsx)(g,{title:"Documents Financiers",documents:r.offreFinanciere})})]})}var v=s(1014),b=s(9343),y=s(5285),w=s(1538),C=s(1210);let R=b.RV,F=l.createContext({}),O=e=>{let{...r}=e;return(0,n.jsx)(F.Provider,{value:{name:r.name},children:(0,n.jsx)(b.Qr,{...r})})},k=()=>{let e=l.useContext(F),r=l.useContext(I),{getFieldState:s,formState:n}=(0,b.Gc)(),a=s(e.name,n);if(!e)throw Error("useFormField should be used within <FormField>");let{id:i}=r;return{id:i,name:e.name,formItemId:"".concat(i,"-form-item"),formDescriptionId:"".concat(i,"-form-item-description"),formMessageId:"".concat(i,"-form-item-message"),...a}},I=l.createContext({}),Z=l.forwardRef((e,r)=>{let{className:s,...a}=e,i=l.useId();return(0,n.jsx)(I.Provider,{value:{id:i},children:(0,n.jsx)("div",{ref:r,className:(0,o.cn)("space-y-2",s),...a})})});Z.displayName="FormItem";let _=l.forwardRef((e,r)=>{let{className:s,...a}=e,{error:i,formItemId:t}=k();return(0,n.jsx)(C._,{ref:r,className:(0,o.cn)(i&&"text-destructive",s),htmlFor:t,...a})});_.displayName="FormLabel";let z=l.forwardRef((e,r)=>{let{...s}=e,{error:a,formItemId:i,formDescriptionId:t,formMessageId:l}=k();return(0,n.jsx)(w.g7,{ref:r,id:i,"aria-describedby":a?"".concat(t," ").concat(l):"".concat(t),"aria-invalid":!!a,...s})});z.displayName="FormControl";let E=l.forwardRef((e,r)=>{let{className:s,...a}=e,{formDescriptionId:i}=k();return(0,n.jsx)("p",{ref:r,id:i,className:(0,o.cn)("text-sm text-muted-foreground",s),...a})});E.displayName="FormDescription";let V=l.forwardRef((e,r)=>{var s;let{className:a,children:i,...t}=e,{error:l,formMessageId:c}=k(),d=l?String(null!==(s=null==l?void 0:l.message)&&void 0!==s?s:""):i;return d?(0,n.jsx)("p",{ref:r,id:c,className:(0,o.cn)("text-sm font-medium text-destructive",a),...t,children:d}):null});V.displayName="FormMessage";var q=s(112),A=s(9155),S=s(7315);let T=y.Ry({criteria:y.IX(y.Ry({id:y.Z_(),name:y.Z_(),status:y.Km(["conforme","non-conforme","a-verifier"],{required_error:"Vous devez s\xe9lectionner un statut."}),note:y.Rx().min(0).max(100).optional(),comment:y.Z_().optional()})),globalComment:y.Z_().optional()}),D={criteria:[{id:"crit-1",name:"Compl\xe9tude du dossier administratif"},{id:"crit-2",name:"R\xe9f\xe9rences techniques pour des projets similaires"},{id:"crit-3",name:"Capacit\xe9 financi\xe8re de l'entreprise"},{id:"crit-4",name:"M\xe9thodologie propos\xe9e"}].map(e=>({id:e.id,name:e.name,status:void 0,note:void 0,comment:""})),globalComment:""};function L(){let e=(0,b.cI)({resolver:(0,v.F)(T),defaultValues:D});return(0,n.jsxs)(t.Zb,{children:[(0,n.jsx)(t.Ol,{children:(0,n.jsx)(t.ll,{children:"Grille d'\xc9valuation de l'Offre"})}),(0,n.jsx)(t.aY,{children:(0,n.jsx)(R,{...e,children:(0,n.jsxs)("form",{onSubmit:e.handleSubmit(function(e){console.log(e)}),className:"space-y-8",children:[e.getValues("criteria").map((r,s)=>(0,n.jsx)(O,{control:e.control,name:"criteria.".concat(s,".status"),render:a=>{let{field:i}=a;return(0,n.jsxs)(Z,{className:"space-y-3 p-4 border rounded-md",children:[(0,n.jsx)(_,{className:"font-semibold",children:r.name}),(0,n.jsx)(z,{children:(0,n.jsxs)(q.E,{onValueChange:i.onChange,defaultValue:i.value,className:"flex flex-col space-y-1",children:[(0,n.jsxs)(Z,{className:"flex items-center space-x-3 space-y-0",children:[(0,n.jsx)(z,{children:(0,n.jsx)(q.m,{value:"conforme"})}),(0,n.jsx)(_,{className:"font-normal",children:"Conforme"})]}),(0,n.jsxs)(Z,{className:"flex items-center space-x-3 space-y-0",children:[(0,n.jsx)(z,{children:(0,n.jsx)(q.m,{value:"non-conforme"})}),(0,n.jsx)(_,{className:"font-normal",children:"Non conforme"})]}),(0,n.jsxs)(Z,{className:"flex items-center space-x-3 space-y-0",children:[(0,n.jsx)(z,{children:(0,n.jsx)(q.m,{value:"a-verifier"})}),(0,n.jsx)(_,{className:"font-normal",children:"\xc0 v\xe9rifier"})]})]})}),(0,n.jsx)(V,{}),(0,n.jsxs)("div",{className:"grid grid-cols-2 gap-4 pt-2",children:[(0,n.jsx)(O,{control:e.control,name:"criteria.".concat(s,".note"),render:e=>{let{field:r}=e;return(0,n.jsxs)(Z,{children:[(0,n.jsx)(_,{children:"Note (optionnel)"}),(0,n.jsx)(z,{children:(0,n.jsx)(A.I,{type:"number",placeholder:"ex: 85",...r,onChange:e=>r.onChange(+e.target.value)})})]})}}),(0,n.jsx)(O,{control:e.control,name:"criteria.".concat(s,".comment"),render:e=>{let{field:r}=e;return(0,n.jsxs)(Z,{children:[(0,n.jsx)(_,{children:"Avis / Commentaire"}),(0,n.jsx)(z,{children:(0,n.jsx)(S.g,{placeholder:"Ajouter un commentaire...",...r})})]})}})]})]})}},r.id)),(0,n.jsx)(O,{control:e.control,name:"globalComment",render:e=>{let{field:r}=e;return(0,n.jsxs)(Z,{children:[(0,n.jsx)(_,{className:"text-lg font-semibold",children:"Commentaire G\xe9n\xe9ral"}),(0,n.jsx)(z,{children:(0,n.jsx)(S.g,{placeholder:"Ajoutez un commentaire global sur l'offre...",className:"resize-y",...r})}),(0,n.jsx)(E,{children:"Ce commentaire appara\xeetra dans le rapport de synth\xe8se."}),(0,n.jsx)(V,{})]})}}),(0,n.jsx)(x.z,{type:"submit",children:"Enregistrer l'\xe9valuation"})]})})})]})}var M=s(1266);let Y={"OE-01":{name:"Tech Solutions SARL"},"OE-02":{name:"Global Office Supplies"},"OE-03":{name:"Info Distribution SA"},"OE-04":{name:"Le Fournisseur Local"}};function G(e){let{params:r}=e,s=Y[r.offreId];return s?(0,n.jsx)(i.MainLayout,{children:(0,n.jsxs)("div",{className:"space-y-6",children:[(0,n.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,n.jsx)(x.z,{variant:"outline",size:"icon",asChild:!0,children:(0,n.jsx)(a.default,{href:"/cojo/".concat(r.sessionId),children:(0,n.jsx)(M.Z,{className:"h-4 w-4"})})}),(0,n.jsxs)("div",{children:[(0,n.jsx)("h1",{className:"text-2xl font-bold",children:"\xc9valuation de l'offre"}),(0,n.jsxs)("p",{className:"text-muted-foreground",children:["Soumissionnaire: ",(0,n.jsx)("span",{className:"font-semibold",children:s.name})]})]})]}),(0,n.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[(0,n.jsx)("div",{className:"lg:col-span-2",children:(0,n.jsx)(L,{})}),(0,n.jsx)("div",{children:(0,n.jsx)(N,{offre:{documentsAdministratifs:[],offreTechnique:[],offreFinanciere:[]}})})]})]})}):(0,n.jsxs)(i.MainLayout,{children:[(0,n.jsx)("div",{children:"Offre non trouv\xe9e"}),(0,n.jsx)(x.z,{asChild:!0,variant:"outline",children:(0,n.jsx)(a.default,{href:"/cojo/".concat(r.sessionId),children:"Retour"})})]})}},4608:function(e,r,s){"use strict";s.d(r,{Ol:function(){return l},SZ:function(){return o},Zb:function(){return t},aY:function(){return d},eW:function(){return m},ll:function(){return c}});var n=s(7437),a=s(2265),i=s(6095);let t=a.forwardRef((e,r)=>{let{className:s,...a}=e;return(0,n.jsx)("div",{ref:r,className:(0,i.cn)("rounded-lg border bg-sigomap-bg-primary text-sigomap-gris-dark shadow-sm",s),...a})});t.displayName="Card";let l=a.forwardRef((e,r)=>{let{className:s,...a}=e;return(0,n.jsx)("div",{ref:r,className:(0,i.cn)("flex flex-col space-y-1.5 p-6",s),...a})});l.displayName="CardHeader";let c=a.forwardRef((e,r)=>{let{className:s,...a}=e;return(0,n.jsx)("h3",{ref:r,className:(0,i.cn)("text-lg font-semibold leading-none tracking-tight",s),...a})});c.displayName="CardTitle";let o=a.forwardRef((e,r)=>{let{className:s,...a}=e;return(0,n.jsx)("p",{ref:r,className:(0,i.cn)("text-sm text-sigomap-gris",s),...a})});o.displayName="CardDescription";let d=a.forwardRef((e,r)=>{let{className:s,...a}=e;return(0,n.jsx)("div",{ref:r,className:(0,i.cn)("p-6 pt-0",s),...a})});d.displayName="CardContent";let m=a.forwardRef((e,r)=>{let{className:s,...a}=e;return(0,n.jsx)("div",{ref:r,className:(0,i.cn)("flex items-center p-6 pt-0",s),...a})});m.displayName="CardFooter"},1210:function(e,r,s){"use strict";s.d(r,{_:function(){return o}});var n=s(7437),a=s(2265),i=s(8364),t=s(3027),l=s(6095);let c=(0,t.j)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),o=a.forwardRef((e,r)=>{let{className:s,...a}=e;return(0,n.jsx)(i.f,{ref:r,className:(0,l.cn)(c(),s),...a})});o.displayName=i.f.displayName},7315:function(e,r,s){"use strict";s.d(r,{g:function(){return t}});var n=s(7437),a=s(2265),i=s(6095);let t=a.forwardRef((e,r)=>{let{className:s,...a}=e;return(0,n.jsx)("textarea",{className:(0,i.cn)("flex min-h-[80px] w-full rounded-md border border-sigomap-gris-light bg-sigomap-bg-primary px-3 py-2 text-sm ring-offset-background placeholder:text-sigomap-gris focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-sigomap-vert focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",s),ref:r,...a})});t.displayName="Textarea"},112:function(e,r,s){"use strict";s.d(r,{E:function(){return c},m:function(){return o}});var n=s(7437),a=s(2265),i=s(9497),t=s(8165),l=s(6095);let c=a.forwardRef((e,r)=>{let{className:s,...a}=e;return(0,n.jsx)(i.fC,{className:(0,l.cn)("grid gap-2",s),...a,ref:r})});c.displayName=i.fC.displayName;let o=a.forwardRef((e,r)=>{let{className:s,...a}=e;return(0,n.jsx)(i.ck,{ref:r,className:(0,l.cn)("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",s),...a,children:(0,n.jsx)(i.z$,{className:"flex items-center justify-center",children:(0,n.jsx)(t.Z,{className:"h-2.5 w-2.5 fill-current text-current"})})})});o.displayName=i.ck.displayName}},function(e){e.O(0,[6963,2199,746,7658,3562,7309,2971,7023,1744],function(){return e(e.s=9755)}),_N_E=e.O()}]);